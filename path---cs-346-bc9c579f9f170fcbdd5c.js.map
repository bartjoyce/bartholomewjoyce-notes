{"version":3,"sources":["webpack:///path---cs-346-bc9c579f9f170fcbdd5c.js","webpack:///./.cache/json/cs-346.json"],"names":["webpackJsonp","./node_modules/json-loader/index.js!./.cache/json/cs-346.json","module","exports","data","site","siteMetadata","author","markdownRemark","html","excerpt","frontmatter","title","date","pathContext","slug"],"mappings":"AAAAA,cAAc,iBAERC,gEACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,cAAgBC,OAAA,sBAA8BC,gBAAmBC,KAAA;AAAkhpGC,QAAA,4IAAAC,aAAw9DC,MAAA,2BAAAC,KAAA,sBAA+DC,aAAgBC,KAAA","file":"path---cs-346-bc9c579f9f170fcbdd5c.js","sourcesContent":["webpackJsonp([257411701174131],{\n\n/***/ \"./node_modules/json-loader/index.js!./.cache/json/cs-346.json\":\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"author\":\"Bartholomew Joyce\"}},\"markdownRemark\":{\"html\":\"<h4><strong>Lecture 1</strong> – October 5th, 2017</h4>\\n<p>Significant part of the module: the back-end of databases. Other part: recent\\ndevelopment in db tech.</p>\\n<p>In other words: 60% is data structures, 40% is operating systems.</p>\\n<p>For db performance, we care about I/O ops since db’s are usually stored on\\ndisk and not in memory. We optimise algorithms to minimise I/O ops involved.\\nClock cycles, or CPU comparisons are relatively cheap by comparison.</p>\\n<p><strong>CS258 Recap…</strong><br>\\nCS258 was application design: start with a companies needs, construct E/R\\ndiagrams, which later become tables in a relational database.</p>\\n<p>The relational model was invented by Cod at IBM. SQL became the standard for\\nquerying relational models.</p>\\n<p><strong>This modules…</strong><br>\\nThe back-end. How do you provide for the application guys from CS258?</p>\\n<p>Things that we discuss include:</p>\\n<ul>\\n<li>B-trees (n-ary balanced trees)</li>\\n<li>multiple indices: querying multiple attributes simultaneously</li>\\n<li>external hashing: hash points to different blocks on disk</li>\\n<li>order of joins: what do you join first?</li>\\n</ul>\\n<span class=\\\"katex-display\\\"><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>A</mi><mi>B</mi><mi>C</mi><mo>→</mo><mo>(</mo><mi>A</mi><mi>B</mi><mo>)</mo><mi>C</mi><mi mathvariant=\\\"normal\\\">∣</mi><mi>A</mi><mo>(</mo><mi>B</mi><mi>C</mi><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">ABC \\\\rightarrow (AB)C | A(BC)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">A</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">C</span><span class=\\\"mrel\\\">→</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\">A</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mclose\\\">)</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">C</span><span class=\\\"mord mathrm\\\">∣</span><span class=\\\"mord mathit\\\">A</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">C</span><span class=\\\"mclose\\\">)</span></span></span></span></span>\\n<ul>\\n<li>OLAP: Can I change this relational model to make it more fit for analysis?</li>\\n<li>Teradata: data warehousing company.</li>\\n</ul>\\n<h4><strong>Lecture 2</strong> – October 6th, 2017</h4>\\n<h2>Why use RDBMS</h2>\\n<ul>\\n<li>\\n<p><strong>Controlling redundancy</strong><br>\\nRedundancy causes inconsistencies in the data, update costs, and storage\\noverheads. Recent technologies aim to make data consistent, however the\\nupdates must be available eventually.</p>\\n</li>\\n<li>\\n<p><strong>Concurrency Control</strong><br>\\nDBs control concurrency themselves (not relying on the OS) to make sure\\nthe data can be accessed concurrently.</p>\\n</li>\\n<li>\\n<p><strong>Backup and Recovery</strong><br>\\nIn case of errors, roll back to the last consistent state.</p>\\n</li>\\n<li>\\n<p><strong>Views, Access Control</strong><br>\\nDifferent people can see different parts of the database.</p>\\n</li>\\n<li>\\n<p><strong>Standardization (SQL)</strong><br>\\nUse the same language for querying irrespective of the underlying\\ndatabase technology.</p>\\n</li>\\n</ul>\\n<h2>When <em>not</em> to use a RDBMS?</h2>\\n<p>Small dataset, model doesn’t change often, simple application.</p>\\n<h1><strong>Relational databases</strong></h1>\\n<ul>\\n<li>\\n<p>Relational model</p>\\n<ul>\\n<li>Relational Data Structures</li>\\n<li>Integrity Rules</li>\\n</ul>\\n</li>\\n<li>\\n<p>Query languages</p>\\n<ul>\\n<li>Relational Algebra (useful for running queries efficiently)</li>\\n<li>Relational Calculus</li>\\n<li>SQL</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Keys</h2>\\n<ul>\\n<li>\\n<p>A relation is a <strong>set</strong> of tuples. All elements of a set are distinct.</p>\\n</li>\\n<li>\\n<p>Hence <strong>all tuples must be distinct</strong>.</p>\\n</li>\\n<li>\\n<p>There may also be a <strong>subset of the attributes</strong> with the property that\\nvalues <strong>must</strong> be distinct.<br>\\nSuch a set is called a <strong><em>superkey</em></strong>.</p>\\n<ul>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>S</mi><mi>K</mi></mrow><annotation encoding=\\\"application/x-tex\\\">SK</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">K</span></span></span></span> a set of attributes</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding=\\\"application/x-tex\\\">t_1</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.61508em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.76508em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">t</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>t</mi><mn>2</mn></msub></mrow><annotation encoding=\\\"application/x-tex\\\">t_2</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.61508em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.76508em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">t</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> tuples</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub><mo>[</mo><mi>S</mi><mi>K</mi><mo>]</mo><mo>≠</mo><msub><mi>t</mi><mn>2</mn></msub><mo>[</mo><mi>S</mi><mi>K</mi><mo>]</mo></mrow><annotation encoding=\\\"application/x-tex\\\">t_1[SK] \\\\neq t_2[SK]</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">t</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mclose\\\">]</span><span class=\\\"mrel\\\">≠</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">t</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mclose\\\">]</span></span></span></span></li>\\n</ul>\\n</li>\\n<li>\\n<p>A <strong><em>candidate key</em></strong> is a minimal super key.</p>\\n<ul>\\n<li>A set of attributes, <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>C</mi><mi>K</mi></mrow><annotation encoding=\\\"application/x-tex\\\">CK</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">C</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">K</span></span></span></span> is a superkey,</li>\\n<li>but no proper subset is a superkey.</li>\\n</ul>\\n</li>\\n<li>\\n<p>A <strong><em>primary key</em></strong> is one <em>arbitrarily chosen candidate key</em>.</p>\\n</li>\\n</ul>\\n<h2>Integrity Rules</h2>\\n<ul>\\n<li>\\n<p><strong>Domain contrainsts</strong> A data type for each item.</p>\\n</li>\\n<li>\\n<p><strong>Entity integrity:</strong> Every relation has a valid primary key.</p>\\n</li>\\n<li>\\n<p><strong>Referential integrity:</strong> if one column is a foreign key to another table,\\nif a row has a non-null value as the column, it MUST exist in the foreign\\ntable.</p>\\n</li>\\n</ul>\\n<h2>Normalize</h2>\\n<p>(…show tables from slides)</p>\\n<h1><strong>Storage, Files, and Indexing</strong></h1>\\n<h2>Outline</h2>\\n<p><strong>Part 1</strong></p>\\n<ul>\\n<li>\\n<p>Disk properties and file storage</p>\\n</li>\\n<li>\\n<p>File organizations: ordered, unordered, and hashed</p>\\n</li>\\n<li>\\n<p>STorage: RAID and storage are networks</p>\\n</li>\\n<li>\\n<p>Chapter: “Dist Storage, Basic File Structures and Hashing”</p>\\n</li>\\n</ul>\\n<h2>Why?</h2>\\n<p>Locality: similar objects in the same block\\nParallelism: if there are too many objects to fit in one block, spread them\\nover many servers, clustered in the same block within each server.</p>\\n<p>Bottom-up perspective on data management.</p>\\n<h2>Data on Disks</h2>\\n<ul>\\n<li>\\n<p>Databases ultimately rely on non-volatile disk storage</p>\\n<ul>\\n<li>Data typically does not fit in (volatile) memory</li>\\n</ul>\\n</li>\\n<li>\\n<p>Physical properties of disks affect performance of the DBMS</p>\\n<ul>\\n<li>Need to understand some basics of disks</li>\\n</ul>\\n</li>\\n<li>\\n<p>A few exceptions to disk-based databases:</p>\\n<ul>\\n<li>Some real-time applications use “in-memory databases”</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Rotating Disk</h2>\\n<ul>\\n<li>\\n<p>Seeking means waiting for your sector of data to come round to the reading\\narm. Once you get there you want to do sequential I/O, not random I/O.</p>\\n</li>\\n<li>\\n<p>Too tidy sequential I/O: more data comes along and everything has to be\\nshifted forwards.</p>\\n</li>\\n<li>\\n<p>When writing your DB application, you fit your block size to be reasonable.\\nSay, 16MB.</p>\\n</li>\\n<li>\\n<p>Seek time: move read head into position, currently <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mtext> </mtext><mn>4</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding=\\\"application/x-tex\\\">~4ms</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\"><span class=\\\"mspace\\\"> </span><span class=\\\"mord mathrm\\\">4</span></span><span class=\\\"mord mathit\\\">m</span><span class=\\\"mord mathit\\\">s</span></span></span></span></p>\\n<ul>\\n<li>Includes rotational delay: wait for sector to come under read head.</li>\\n<li>Random access: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mi mathvariant=\\\"normal\\\">/</mi><mn>0</mn><mi mathvariant=\\\"normal\\\">.</mi><mn>0</mn><mn>0</mn><mn>4</mn><mo>∗</mo><mn>4</mn><mi>K</mi><mi>B</mi><mo>=</mo><mn>1</mn><mi>M</mi><mi>B</mi><mi mathvariant=\\\"normal\\\">/</mi><mi>s</mi></mrow><annotation encoding=\\\"application/x-tex\\\">1/0.004 * 4KB = 1MB/s</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">4</span><span class=\\\"mbin\\\">∗</span><span class=\\\"mord mathrm\\\">4</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.10903em;\\\">M</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord mathit\\\">s</span></span></span></span>. Quite slow…</li>\\n</ul>\\n</li>\\n<li>\\n<p>Track-to-track move, currently <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mtext> </mtext><mn>0</mn><mi mathvariant=\\\"normal\\\">.</mi><mn>4</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding=\\\"application/x-tex\\\">~0.4ms</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\"><span class=\\\"mspace\\\"> </span><span class=\\\"mord mathrm\\\">0</span></span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">4</span><span class=\\\"mord mathit\\\">m</span><span class=\\\"mord mathit\\\">s</span></span></span></span>: 10 times faster.</p>\\n<ul>\\n<li>Sustained read/write time: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>0</mn><mn>0</mn><mi>M</mi><mi>B</mi><mi mathvariant=\\\"normal\\\">/</mi><mi>s</mi></mrow><annotation encoding=\\\"application/x-tex\\\">100MB/s</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.10903em;\\\">M</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord mathit\\\">s</span></span></span></span> (caching can improve this further)</li>\\n</ul>\\n</li>\\n<li>\\n<p>Buffering can help multithreaded systems.</p>\\n<ul>\\n<li>Work on other processes while waiting for I/O data to arrive.</li>\\n<li>For writing on disk, fill a buffer first. When the buffer is full, then\\nwrite to disk.</li>\\n<li>Double buffering: fill one buffer whilst another is being written to disk.</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Records: the basic unit of the database</h2>\\n<ul>\\n<li>\\n<p>DBs fundamentally composed of records</p>\\n<ul>\\n<li>Each record describes an object with a number of fields</li>\\n</ul>\\n</li>\\n<li>\\n<p>Fields have a type (int, float, string, time, compound…)</p>\\n<ul>\\n<li>Fixed or variable length</li>\\n</ul>\\n</li>\\n<li>\\n<p>Need to know when one field ends and the next begins</p>\\n<ul>\\n<li>Field length codes</li>\\n<li>Field separators (special characters)</li>\\n</ul>\\n</li>\\n<li>\\n<p>Leads to <strong>variable length records</strong></p>\\n<ul>\\n<li>How to effectively search through data with variable length records?</li>\\n</ul>\\n</li>\\n</ul>\\n<h4><strong>Lecture 3</strong> – October 9th, 2017</h4>\\n<h2>Records and Blocks</h2>\\n<ul>\\n<li>Records get stored on disks organized into blocks</li>\\n<li>\\n<p>Small records: pack an integer number into each block</p>\\n<ul>\\n<li>Leaves some space left over in blocks</li>\\n<li>Blocking Factor: (average) number of records per block</li>\\n</ul>\\n</li>\\n<li>\\n<p>Large records: may not be effective to leave slack</p>\\n<ul>\\n<li>Records may span across multiple blocks (spanned organization)</li>\\n<li>May use a pointer at end of block to point to next block</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>File Organization</h2>\\n<ul>\\n<li>\\n<p>File: Sequence of records</p>\\n<ul>\\n<li>Fixed-length vs. variable-length records</li>\\n</ul>\\n</li>\\n<li>\\n<p>Records are stored to disk blocks</p>\\n<ul>\\n<li>Spanned vs. unspanned</li>\\n</ul>\\n</li>\\n<li>\\n<p>Blocks are allocated to disk</p>\\n<ul>\\n<li>Contiguous vs. Linked allocation</li>\\n</ul>\\n</li>\\n<li>\\n<p>File Organization</p>\\n<ul>\\n<li>Unordered</li>\\n<li>Ordered</li>\\n<li>Hashing</li>\\n</ul>\\n</li>\\n</ul>\\n<h3>Unordered Files</h3>\\n<ul>\\n<li>Just dump the records on disk in no particular order</li>\\n<li>Insert is very efficent: just add to last block</li>\\n<li>\\n<p>Scan is very inefficient: need to do a linear search.</p>\\n<ul>\\n<li>Approx. read half the file on average</li>\\n</ul>\\n</li>\\n<li>Delete could be inefficient</li>\\n</ul>\\n<h3>Ordered Files</h3>\\n<ul>\\n<li>Keep records ordered on some (key) value</li>\\n</ul>\\n<h3>Hashing Files</h3>\\n<ul>\\n<li>\\n<p>Use hashing to ensure records with same key are grouped together</p>\\n</li>\\n<li>\\n<p>Arrange file blocks into M equal sized buckets</p>\\n<ul>\\n<li>Often, 1 block = 1 bucket</li>\\n</ul>\\n</li>\\n<li>\\n<p>Usual hash table concerns emerge</p>\\n<ul>\\n<li>How to deal with collisions?</li>\\n<li>Deletions also get messy</li>\\n</ul>\\n</li>\\n<li>\\n<p><strong>External hashing</strong>: don’t store records directly in buckets, store\\npointers to records.</p>\\n<ul>\\n<li>Pointers are small, fit more in a block</li>\\n<li>“All problems in computer science can be solved by another level\\nof indirection” – <em>David Wheeler</em></li>\\n</ul>\\n</li>\\n</ul>\\n<h3>External Hashing for Disk Files</h3>\\n<ul>\\n<li><strong>Bucket</strong>: One disk block or cluster of contiguous blocks (like\\nfixed-size chaining)</li>\\n<li>Hashing maps a key to a bucket number (which is then mapped to a\\nphysical block)</li>\\n</ul>\\n<h3>Dynamic Hashing</h3>\\n<ul>\\n<li>Static hashing: hash address space is fixed.</li>\\n<li>Dynamic hashing: Expand and shrink the hash space.</li>\\n</ul>\\n<h3>Extendible Hashing</h3>\\n<p>For a table of size 2: use most significant bit for hash.</p>\\n<p><strong>TODO</strong>: This is complicated. Write out a full description for this later.</p>\\n<h4><strong>Lecture 4</strong> – October 12th, 2017</h4>\\n<p><strong>Points to Note</strong></p>\\n<ul>\\n<li>\\n<p>Does the order of insertion matter?<br>\\nNot in this case. But in most cases we are inserting multiple rows at a time\\nanyway. This is called <strong>bulk loading</strong>, where you find a way to efficiently\\ninsert reams of data instead of inserting tuples one by one.</p>\\n</li>\\n<li>\\n<p>Bucket split causes directory doubling</p>\\n<ul>\\n<li>If local depth becomes > global depth</li>\\n</ul>\\n</li>\\n</ul>\\n<h3>Linear Hashing: Example</h3>\\n<h1><strong>Indexing</strong></h1>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/44b7054f33d969557fdb599a0be61077-254ad.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 382px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 116.49214659685863%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABYlAAAWJQFJUiTwAAACV0lEQVQ4y5WVC3OqQAyF/f8/sCq1tzwVUVDw/czNtxi6OHac7syZCGzOJjnJOjgcDhJFkVRVJe/W9XqVVbWS2+32654BhHEcS5qmMp/PZTqdOrter4Vv/oqjWCaTieR5LkmSShhGzhckceLeD3yH+/3u4K/dbifH41E2TSPBeCzj0ag7lGixDrk+r1Z9wlcLMlv5LJdplklRFLJcLqUqS2cNfyKkbnNNiejMudGosYbNZvOekFru93vnHIwDCYLA1QzSuq57EbL3LSFOtrI007RnWrvKdQUE/DbU6/qHEDFKrcm/ry9VLJbtdtsRnk4nJ0qs7RV+fztbqBDsp56GXg3P53OnqK82hFbHmUaHKKQPOJSDOvg1hJDTCduK/EyYKVmq/UdkgG/22547wjAMZfgxdErykQamLaqycpE0jz7k/UyVXiwWrShqDT1R0iSRT1WQtoCQaNlgSlICiBCF1BGFLKqHQCZSR0g6Y42AloAw0QOoiauTWsaQwwBjaim2WbRo6uaHkCjYXMwLt5G5hIRUiY4akzK9yEzzvVyWzho45E+jR2S0FPWCjJR9UdavRu/5aqIHmRSiJgOuOi6DNsW6V0OyGby6835bNDOClFoeakvfYn28TdlfkKE0QFEiwhq2fmNTK4AQWNK0aUEQa5+FjhjORPeMo/oO/FsFJ06FlIIbud3cmYqCwtY2+PRE8fuQdGhs0qHACGCECMPiHSozz+whgN5t44/e+eFk63K5dClDyGbuwtFw6P4//NFbPNCLECcfduv0RGFSNLr2/8Tuw1UHnv8DyRjmhJ0BovEAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Index\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/44b7054f33d969557fdb599a0be61077-7f1eb.png\\\"\\n        srcset=\\\"/static/44b7054f33d969557fdb599a0be61077-54db7.png 148w,\\n/static/44b7054f33d969557fdb599a0be61077-fa24e.png 295w,\\n/static/44b7054f33d969557fdb599a0be61077-7f1eb.png 590w,\\n/static/44b7054f33d969557fdb599a0be61077-254ad.png 764w\\\"\\n        sizes=\\\"(max-width: 382px) 100vw, 382px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p><strong>Aims</strong></p>\\n<ul>\\n<li>Generate a smaller file, by having an index of an index.</li>\\n</ul>\\n<h2>Primary Index</h2>\\n<p>Can be <strong>dense</strong> or <strong>sparse</strong>. A sparse index has only a selection of tuples\\nwith which you can find the other tuples.</p>\\n<ul>\\n<li>\\n<p>Single-level Ordered Indexes</p>\\n<ul>\\n<li>Primary Indexes</li>\\n<li>Clustering Indexes</li>\\n<li>Secondary Indexes</li>\\n</ul>\\n</li>\\n<li>\\n<p>Multilevel Indexes</p>\\n</li>\\n<li>\\n<p>Dynamic Multilevel Indexes</p>\\n<ul>\\n<li>B-Trees, B+-Trees</li>\\n</ul>\\n</li>\\n<li>\\n<p>Indexes on Multiple Keys</p>\\n</li>\\n</ul>\\n<p>To allow insertions you need to leave empty space in buckets. However, less\\nentries in each block means you have more IO operations.</p>\\n<p>Another alternative is <strong>overflow</strong>. If a block is full, have a chain to a\\nsecondary block instead of shifting all data along blocks. Overnight you can\\nrun through the data and rebuild an index.</p>\\n<p>Or you can keep an insertion table (in memory). Don’t insert tuples into the\\nindex immediately. Once in a while you can bulk insert the tuples into the\\nindex and rebuild the index.</p>\\n<p>Most the time you don’t want to reorganise the index. If you delete “Bob\\nAlfred”, mark it as deleted instead of removing from the index.</p>\\n<h2>Clustering Index</h2>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/7669b8b02397f8ec6f42a2e85beb0f85-6f53c.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 547px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 102.92504570383912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9ElEQVQ4y42UiXLCMAxE8/9/CNOEAsPRnOTiBtVPsdzQDoXMKLIce70rK4rkzedyuUjbtnI4HDTOskzSNP2zLnoXsCxLmUwmsl6vpSgKKfJCPcB5noe5l4D7/V6ZzedzSZJEkjiR+efPOI5jjeOPWOOXgE3TSNu00vd9sNPppIdgxGcf418Cdl2nng3I3lW7MB7iSrq20zH+AfB2u2ny7/f7AyDx8XhU+VyKjX/H+ABYuZPIE4lfLBbSd73Ok2xkdY7VbjewY2NT12oW1278AHi9XpUJxjjcblEOkl0uuU0OhnXpDsLGMT6yGps6ZjN3c5w4nU4DqAEiCZZsgrFdyjjGR7a4dnKgzAerL1gh06SSeCtuJNbPJDOJHCbxgCFFk90PyQZUC9ivy9IsFLXFeAXkRANQhh7UGCD/fD6rEmqQMWuxkzOL8YHhdrsNDDebjaRfXw/5QS5zgWE2MBzHgSGXYifAAGPOaozHNgHc+BvHNK8+xv/7p4wBOQS2djDf7LvFQfKz5+g3Ib1yTPJs6CqWGusyFgfJTwE9Ox7YsVnL5FXZvAMYmoOvSaoCG8f4t3JIuWgDdUZ34VIAr3y3GRd9xGKaJKVi/zJdxzqOedaVXvK/fwqv5XKptlqtZDabaTemLmGCFMuhlozbyNh+yXoU478BVMBYss+uetkAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Clustering\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/7669b8b02397f8ec6f42a2e85beb0f85-a566e.png\\\"\\n        srcset=\\\"/static/7669b8b02397f8ec6f42a2e85beb0f85-d1e32.png 148w,\\n/static/7669b8b02397f8ec6f42a2e85beb0f85-c5651.png 295w,\\n/static/7669b8b02397f8ec6f42a2e85beb0f85-a566e.png 590w,\\n/static/7669b8b02397f8ec6f42a2e85beb0f85-c38e6.png 885w,\\n/static/7669b8b02397f8ec6f42a2e85beb0f85-6f53c.png 1094w\\\"\\n        sizes=\\\"(max-width: 547px) 100vw, 547px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<ul>\\n<li>Insertion is a challenger in the previous version.</li>\\n<li>Cluster index where each distinct value is allocated a whole disk block</li>\\n<li>Linked list if more than one block is needed</li>\\n<li>Easier to update file with inserts/deletes</li>\\n</ul>\\n<h2>Secondary indexes</h2>\\n<ul>\\n<li>Secondary indexes provide a <strong>secondary</strong> means of access to data</li>\\n</ul>\\n<p>These are dense indexes with references to blocks. Not good for insertions,\\ndeletions. But extremely good for existence queries (0 IO operations to figure\\nout if <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\\\"application/x-tex\\\">x</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.43056em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">x</span></span></span></span> is in your table.)</p>\\n<h2>Indexes on non-key columns</h2>\\n<ul>\\n<li>Keep multiple entries for the same value in the index</li>\\n<li>One entry per value, points to block of pointers that point to all the rows\\nwith that value.</li>\\n</ul>\\n<h2>Two-level index / Multi-level indexing</h2>\\n<p>Bottom-up perspective: we have a big file, we want to search the file. So we\\nneed an index that’s sorted, and we want to navigate that index quickly. So we\\nbuild an index of the index, and we end up with a tree.</p>\\n<h4><strong>Lecture 5</strong> – October 13th, 2017</h4>\\n<p>Missed…</p>\\n<h4><strong>Lecture 6</strong> – October 13th, 2017</h4>\\n<p>Made no notes…</p>\\n<h4><strong>Lecture 7</strong> – October 19th, 2017</h4>\\n<h2>Bulk insertion</h2>\\n<p>Insertion order is important in B+ trees. What if the data to be inserted is\\nsorted? What will the tree look like at the end? When you insert your data in\\norder you end up with a B+ tree that is very empty (minimally empty in fact).</p>\\n<p>This can be resolved by calling a <code>sorted_bulk_insert()</code> function instead\\nof a regular <code>insert()</code> for each tuple.</p>\\n<p>For bulk insertion, when you split, don’t split the bucket in half. Instead\\nonly bring the greatest element to the new bucket and leave the old bucket\\nfull. This is referred to as <strong>bulk loading</strong>.</p>\\n<p>Level: 3<br>\\nMax-capacity: 11  </p>\\n<p>Best case:</p>\\n<ul>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">11</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">1</span></span></span></span> pointers for root</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">11</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">1</span></span></span></span> pointers for nodes in second level</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">10</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span></span></span></span> keys for leaf nodes</li>\\n</ul>\\n<p><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>1</mn><mo>×</mo><mn>1</mn><mn>1</mn><mo>×</mo><mn>1</mn><mn>0</mn><mo>=</mo><mn>1</mn><mn>2</mn><mn>1</mn><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">11\\\\times 11\\\\times 10=1210</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.72777em;vertical-align:-0.08333em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span></span></span></span></p>\\n<p>Worst case:</p>\\n<ul>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding=\\\"application/x-tex\\\">2</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">2</span></span></span></span> pointers for root</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>6</mn></mrow><annotation encoding=\\\"application/x-tex\\\">6</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">6</span></span></span></span> pointers for nodes in second level</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding=\\\"application/x-tex\\\">5</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">5</span></span></span></span> keys for leaf nodes</li>\\n</ul>\\n<p><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>2</mn><mo>×</mo><mn>6</mn><mo>×</mo><mn>5</mn><mo>=</mo><mn>6</mn><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">2\\\\times 6\\\\times 5=60</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.72777em;vertical-align:-0.08333em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">6</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">5</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">6</span><span class=\\\"mord mathrm\\\">0</span></span></span></span></p>\\n<h2>Data Storage</h2>\\n<p><strong>Tuning</strong> tweaking the performance of a query.</p>\\n<p>Make sure disk speeds are all the same, or be considerate of slower disks.</p>\\n<p>Handle disk addition and disk removal without turning off the </p>\\n<p>Policy constraints</p>\\n<ul>\\n<li>Duplicate the data in countries that are allowed (w.r.t. data privacy).</li>\\n</ul>\\n<p>Replace cross-data centers</p>\\n<ul>\\n<li>Always have three different copies of data in separate locations of data\\ncentre.</li>\\n</ul>\\n<p>The ideal parallelism for a single query is</p>\\n<ul>\\n<li>Minimal number of parallel scanning servers needed to satisfy the client.</li>\\n</ul>\\n<p>Concurrent queries</p>\\n<ul>\\n<li>Maximizing parallelism for all of them can cause disk contention, reducing\\neverybody’s performance.</li>\\n</ul>\\n<p>The goal in data centres is: reach maximal parallelism while minimizing\\nconcurrency issues.</p>\\n<h1><strong>Tuning</strong></h1>\\n<p><strong>Tuning</strong> tweaking the performance of a query.</p>\\n<p>Retrieval queries:</p>\\n<ol>\\n<li>Which files are accessed by the query?</li>\\n<li>Which attributes is selection applied to?</li>\\n<li>Is the selection equality, inequality or range?</li>\\n<li>Which attributes are subjects of join conditions?</li>\\n<li>Which attributes are retrieved by the query?</li>\\n</ol>\\n<p>Update transactions:</p>\\n<ol>\\n<li>The files that will be updated</li>\\n<li>The type of operation on each file (insert, modify, delete)</li>\\n<li>The attributes for selection of a record to delete/modify</li>\\n<li>The attributes whose values will be changed by a modify</li>\\n</ol>\\n<p>Third one is most important.\\nNeed to build an index on attributes from 3, need to avoid index on attributes\\nfrom 4, since they change often.</p>\\n<p>Building an index makes sense in most cases, but you shouldn’t have them for\\nsome attributes. For example, for attributes that are modified often.</p>\\n<p>Attributes with uniqueness (key) constraints should have an index.</p>\\n<p><code>CREATE [ UNIQUE ] INDEX &#x3C;index name> ON &#x3C;table name> (&#x3C;column name> [ &#x3C;order> ] )</code></p>\\n<h4><strong>Lecture 8</strong> – October 23rd, 2017</h4>\\n<h2>External Merge Sort</h2>\\n<ol>\\n<li>\\n<p>For each block that fits in memory:</p>\\n<ol>\\n<li>Read into disk as much as fits in memory.  </li>\\n<li>Sort it in memory.</li>\\n<li>Write it back.</li>\\n</ol>\\n</li>\\n<li>\\n<p>Read portions of each sorted block into memory and merge them.</p>\\n</li>\\n</ol>\\n<p>External merge sort:</p>\\n<ol>\\n<li><strong><code>122225</code></strong><code>-234445-11235</code></li>\\n<li><code>122225-</code><strong><code>234445</code></strong><code>-11235</code></li>\\n<li><code>122225-234445-</code><strong><code>11235</code></strong></li>\\n<li><strong><code>12</code></strong><code>2225-</code><strong><code>23</code></strong><code>4445-</code><strong><code>11</code></strong><code>235</code></li>\\n<li><code>12</code><strong><code>22</code></strong><code>25-23</code><strong><code>44</code></strong><code>45-11</code><strong><code>23</code></strong><code>5</code></li>\\n<li><code>1222</code><strong><code>25</code></strong><code>-2344</code><strong><code>45</code></strong><code>-1123</code><strong><code>5</code></strong></li>\\n</ol>\\n<p><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>3</mn><mo>(</mo><msub><mi>b</mi><mi>r</mi></msub><mo>+</mo><msub><mi>b</mi><mi>s</mi></msub><mo>)</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">3(b_r + b_s) + 1</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">3</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.151392em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.02778em;\\\">r</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">+</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.151392em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\">s</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mclose\\\">)</span><span class=\\\"mbin\\\">+</span><span class=\\\"mord mathrm\\\">1</span></span></span></span></p>\\n<h2>Sort-merge algorithm</h2>\\n<ul>\\n<li>\\n<p>Parameters of the sorting procedure:</p>\\n<ul>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.69444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.69444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">b</span></span></span></span>: number of blocks in the file to be sorted</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>B</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">n_B</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.58056em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span>: available buffer space measured in blocks</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>R</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">n_R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.58056em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span>: number of runs (chunks) of the file produced</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>R</mi></msub><mo>=</mo><mo>⌈</mo><mi>b</mi><mi mathvariant=\\\"normal\\\">/</mi><msub><mi>n</mi><mi>B</mi></msub><mo>⌉</mo></mrow><annotation encoding=\\\"application/x-tex\\\">n_R = \\\\lceil b/n_B \\\\rceil</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mrel\\\">=</span><span class=\\\"mopen\\\">⌈</span><span class=\\\"mord mathit\\\">b</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mclose\\\">⌉</span></span></span></span></li>\\n</ul>\\n</li>\\n<li>\\n<p>Small example: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>b</mi><mo>=</mo><mn>1</mn><mn>0</mn><mn>2</mn><mn>4</mn></mrow><annotation encoding=\\\"application/x-tex\\\">b=1024</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.69444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.69444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mord mathrm\\\">4</span></span></span></span>, <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>B</mi></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding=\\\"application/x-tex\\\">n_B=5</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.79444em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">5</span></span></span></span>, need 205 runs of 5 blocks</p>\\n</li>\\n<li>\\n<p>After first pass, have <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>R</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">n_R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.58056em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> sorted pieces of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>B</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">n_B</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.58056em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> blocks: merge them\\ntogether.</p>\\n<ul>\\n<li>In-memory mergesort: merge two at a time (two-way merge)</li>\\n<li>External sorting: merge as many as possible</li>\\n<li>Limiting factor: smaller of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">(n_B - 1)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mclose\\\">)</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>R</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">n_R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.58056em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span></li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Complicated SELECT operation</h2>\\n<p>Selecting on many indices simultaneously (where the indices are queries\\ntogether with <code>AND</code> or <code>OR</code>).</p>\\n<p>Get the pointers to the different blocks from the secondary indexes of all of\\nthe queries indices, then… intersect the pointers, <em>then</em> access the blocks.</p>\\n<h2>Selectivity estimation</h2>\\n<p>Knowing the size of the result of a query without having to carry out the\\nquery.</p>\\n<h4><strong>Lecture 9</strong> – October 26th, 2017</h4>\\n<h2>Hands-on projects</h2>\\n<ol>\\n<li>\\n<p><strong>Data Warehousing</strong>: SQL, OLAP, from RDBMS to DWs</p>\\n<ul>\\n<li>In a data warehouse we have a purpose (e.g. money or sales).</li>\\n<li>You will take this normalised DB and will make it a fact-based or\\nsubject-based table. You will drop some data. You will have a fact\\ntable with information about sales, which may refer to secondary tables\\nwith products, customers, or suppliers.</li>\\n<li>Instructions given step by step: drop these tables, do this, do that…</li>\\n<li>You can use MySQL, PostgreSQL, Oracle, but the queries are done for MS\\nSQL Server.</li>\\n<li>OLAP: for example, “give me the no. of products sold in the second half\\nof this year in region A that weren’t sold in the first half of this year\\nin region B.”</li>\\n<li>Challenge: data will be missing, e.g. holidays, but they will be queried.</li>\\n</ul>\\n</li>\\n<li>\\n<p><strong>Hadoop MapReduce</strong>: Big Data hacking, text analytics</p>\\n<ul>\\n<li>You will be given a very big data set (and small one for testing). It\\nwill consist of updates to wiki pages.</li>\\n<li>Since it’s big, you can’t use basic C code (or maybe you can).</li>\\n<li>Process this data to answer questions, e.g: “who was the most active user\\non wikipedia”? Were they genuine edits or spam? Give the top <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\\\"application/x-tex\\\">k</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.69444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.69444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03148em;\\\">k</span></span></span></span>.</li>\\n<li>Or: “what are the articles with the highest number of revisions?”</li>\\n<li>Biggest challenge: install Hadoop. Get it running. There is a step-by-\\nstep instruction paper on how to install it.</li>\\n<li>Note: using Hadoop on your own machine allows you to gauge the\\nperformance better, since you have complete control over your threads\\n(i.e. fewer context switches).</li>\\n</ul>\\n</li>\\n<li>\\n<p><strong>Column oriented data stores</strong>: Column stores for analytics, bitmaps,\\nalgorithms</p>\\n<ul>\\n<li>We care about aggregates (sums, avgs, analysis).</li>\\n<li>Project is about storing columns in efficient way.</li>\\n<li>Given any DB, how can I store data column-wise?</li>\\n<li>Compression: most-famous one, round-length encoding.\\n<code>[6, 6, 6, 6, 6, 6, 6]</code> is turned into <code>6 x 7</code>, though that only works\\nif the column is compressed.</li>\\n<li>It is assumed that the data is compressable. But that may not be the\\ncase.</li>\\n<li>In this project: sort data on one column so that there are sequences\\nof repetitions in the data.</li>\\n<li>I will give you data, you will take the data and compress it, and I\\nwill give you the compression codes.</li>\\n<li>Don’t spend too much time on details, spend time on creative solutions.</li>\\n<li>Complex compression algorithm <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\Rightarrow</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.36687em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.36687em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mrel\\\">⇒</span></span></span></span> slow querying. You must\\ncompress it such that querying is efficient.</li>\\n<li>Problem: multiple columns, need to sort it in multidimensional way.</li>\\n<li>Provided with 5 data sets, one with 2 million tuples.</li>\\n</ul>\\n</li>\\n</ol>\\n<h2>Objectives</h2>\\n<ul>\\n<li>To get hands-on experience in one of the areas.</li>\\n<li>To do something timely, and that you find interesting and stimulating.</li>\\n<li>To let you pick something that reflects your interests.</li>\\n</ul>\\n<h2>Submission Details</h2>\\n<ul>\\n<li>\\n<p>Submission is via Tabula</p>\\n<ul>\\n<li>Upload a PDF of the report</li>\\n<li>Upload a zip of the source code</li>\\n</ul>\\n</li>\\n<li>\\n<p>Due <strong>Monday 4th of December (12 noon)</strong></p>\\n<ul>\\n<li>Usual late scheme applies: loss of 5% of marks per working day late.</li>\\n<li>Do make use of books/articles/websites, but cite them properly.</li>\\n<li>Don’t copy code.</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Report Format</h2>\\n<ul>\\n<li>\\n<p>Report:</p>\\n<ul>\\n<li>Max 5 pages (at most 3500 words) for the main part of the report</li>\\n<li>Appendix: for detailed query outputs if required by the project\\ndescription.</li>\\n</ul>\\n</li>\\n<li>\\n<p>The main part:</p>\\n<ul>\\n<li>At least 10pt font, “sensible margins” (2cm on all sides)</li>\\n<li>Some marks go to presentation.</li>\\n<li>Ability to communicate is vital in whatever you go on to do</li>\\n<li>Use graphs and diagrams where applicable.</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Suggested Outline</h2>\\n<ul>\\n<li>Introduction</li>\\n<li>\\n<p>Description of what you did</p>\\n<ul>\\n<li>Describe the algorithms and implementations</li>\\n<li>Enough detail to allow someone else to repeat the process</li>\\n<li>Include what measures you will measure the methods on</li>\\n</ul>\\n</li>\\n<li>\\n<p>Results</p>\\n<ul>\\n<li>Experimental evaluation</li>\\n<li>“As the data size increases, I have a linear increase in cost, …”</li>\\n<li>For the column compressions project: “as the number of attributes\\nincreases these methods start to perform worse, but as the number of rows\\nincreases these methods become more stable.”</li>\\n</ul>\\n</li>\\n<li>\\n<p>Conclusions/references</p>\\n<ul>\\n<li>Include proper references to work you made use of</li>\\n<li>What more could you have done if you had more time?</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Evaluation Criteria</h2>\\n<ul>\\n<li>Quality of solutions and their evaluations [5%]</li>\\n<li>Quality of presentation [5%]</li>\\n<li>Quality of code, documentation, and instruction [4%]</li>\\n<li>Description of the work done and objectives [2%]</li>\\n<li>Framing material, references [2%]</li>\\n<li>Results and discussion/interpretation [4%]</li>\\n</ul>\\n<p>Report more important than the project. <strong>Keep that in mind</strong>.</p>\\n<h4><strong>Lecture 10</strong> – October 27th, 2017</h4>\\n<h2><strong>Implementing JOIN</strong></h2>\\n<ul>\\n<li>\\n<p><strong>Sort-merge join</strong>:</p>\\n<ul>\\n<li>If <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding=\\\"application/x-tex\\\">R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\\\"application/x-tex\\\">S</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span></span></span></span> are physically sorted (ordered) by value of the join\\nattributes <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\\\"application/x-tex\\\">A</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">A</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding=\\\"application/x-tex\\\">B</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span>, respectively, sort-merge join is very efficient.</li>\\n<li>Both files are scanned in order of the join attributes, matching the\\nrecords that have the same values for <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\\\"application/x-tex\\\">A</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">A</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding=\\\"application/x-tex\\\">B</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span>.</li>\\n</ul>\\n</li>\\n<li>\\n<p><strong>Hash join</strong>:</p>\\n<ul>\\n<li>The records of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding=\\\"application/x-tex\\\">R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\\\"application/x-tex\\\">S</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span></span></span></span> are both hashed with the <em>same hash function</em>\\non the join attributes <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\\\"application/x-tex\\\">A</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">A</span></span></span></span> of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding=\\\"application/x-tex\\\">R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding=\\\"application/x-tex\\\">B</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span> of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\\\"application/x-tex\\\">S</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span></span></span></span> as hash keys.</li>\\n<li>Hash join is very efficient if one of the sets fits into memory.\\nOtherwise, bring as much as you can into memory, hash them, write back.\\nThen read in the hashed data and join them.</li>\\n<li>Cost if files don’t fit into memory: 3 times as many IOs.</li>\\n<li>Assumed: your hash function behaves nicely, splits data in uniform\\nbuckets.</li>\\n</ul>\\n</li>\\n</ul>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/28986567e432af87b92eac6430e9a3b8-c0408.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 580px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 47.06896551724138%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVQoz62RW0+DQBCF+f+/xBffNNHom9U0sfaCirYUyi6U7WKpF6CtlPY4sw2tafTBxEkOYYez35wMFqiG7gCO84TNZsNHvL+9wu7Z1HNw12ojzwvTL8tPSBliPt+e65JCIJ1O8ZHlsFarFdyJhqM0+mqCxWJh1H3uww0jSK0JMDcS9N54dHDr+UjS1PQ0gZrkbTw49P0FFjdbfRfNAYlSzmYzTMl0dHaO08YNHM8zF7Msw4DSGR8pCEMzOIzjXc+P1RbYGwXoBBJdf4R1tYamJMcXlzi5uoZN03lIWZbwxmPjY4koMoMipfY9nWyB94GATdMZmOe5SVhVldlpLfb549j4WJKAnJCBu16S7BN2hUR76CGl3dQ/57A4AftYii6zj5PXe18ul7D4URSFScDpfoPVwA7BOt+Ah2XhDyUJ2BOh0eQ/gCFBbIKxlP4Z+AXAFKgA1BvF/QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Hash join\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/28986567e432af87b92eac6430e9a3b8-3b812.png\\\"\\n        srcset=\\\"/static/28986567e432af87b92eac6430e9a3b8-73f02.png 148w,\\n/static/28986567e432af87b92eac6430e9a3b8-01593.png 295w,\\n/static/28986567e432af87b92eac6430e9a3b8-3b812.png 590w,\\n/static/28986567e432af87b92eac6430e9a3b8-6ebc5.png 885w,\\n/static/28986567e432af87b92eac6430e9a3b8-c0408.png 1160w\\\"\\n        sizes=\\\"(max-width: 580px) 100vw, 580px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2><strong>JOIN performance</strong></h2>\\n<ul>\\n<li>\\n<p>Nested-loop join can be very expensive</p>\\n</li>\\n<li>\\n<p>Joining EMPLOYEE and DEPARTMENT, with EMPLOYEE for the outer loop:<br>\\nEMPLOYEE read once, DEPARTMENT read <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>E</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">b_E/(n_B-2)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span></span></span></span> times.</p>\\n<ul>\\n<li>Read EMPLOYEE once: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>E</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">b_E</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.69444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.84444em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> blocks</li>\\n<li>Read DEPARTMENT <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mo>⌈</mo><msub><mi>b</mi><mi>E</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo><mo>⌉</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\lceil b_E/(n_B-2)\\\\rceil</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mopen\\\">⌈</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">⌉</span></span></span></span> times: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>D</mi></msub><mo>×</mo><msub><mi>b</mi><mi>E</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">b_D\\\\times b_E/(n_B-2)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.02778em;\\\">D</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">×</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span></span></span></span></li>\\n<li>In our examples: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>2</mn><mn>0</mn><mn>0</mn><mn>0</mn><mo>+</mo><mn>1</mn><mn>0</mn><mo>×</mo><mn>2</mn><mn>0</mn><mn>0</mn><mn>0</mn><mi mathvariant=\\\"normal\\\">/</mi><mn>5</mn><mo>=</mo><mn>6</mn><mn>0</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">2000+10\\\\times 2000/5=6000</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mbin\\\">+</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord mathrm\\\">5</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">6</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span></span></span></span> block reads.</li>\\n</ul>\\n</li>\\n<li>\\n<p>Joining EMPLOYEE and DEPARTMENT, with DEPARTMENT for the outer loop:<br>\\nEMPLOYEE read once, DEPARTMENT read <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>E</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">b_E/(n_B-2)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span></span></span></span> times.</p>\\n<ul>\\n<li>Read DEPARTMENT once: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>D</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">b_D</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.69444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.84444em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.02778em;\\\">D</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> blocks</li>\\n<li>Read EMPLOYEE <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mo>⌈</mo><msub><mi>b</mi><mi>D</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo><mo>⌉</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\lceil b_D/(n_B-2)\\\\rceil</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mopen\\\">⌈</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.02778em;\\\">D</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">⌉</span></span></span></span> times: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>E</mi></msub><mo>×</mo><msub><mi>b</mi><mi>D</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">b_E\\\\times b_D/(n_B-2)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">×</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.02778em;\\\">D</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span></span></span></span></li>\\n<li>In our examples: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>0</mn><mo>+</mo><mn>2</mn><mn>0</mn><mn>0</mn><mn>0</mn><mo>×</mo><mn>1</mn><mn>0</mn><mi mathvariant=\\\"normal\\\">/</mi><mn>5</mn><mo>=</mo><mn>4</mn><mn>0</mn><mn>1</mn><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">10+2000\\\\times 10/5=4010</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mbin\\\">+</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord mathrm\\\">5</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">4</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span></span></span></span> block reads.</li>\\n</ul>\\n</li>\\n</ul>\\n<h2><strong>JOIN selection factor</strong></h2>\\n<h2><strong>Sort-merge JOIN efficiency</strong></h2>\\n<h2><strong>Partition hash JOIN</strong></h2>\\n<h2><strong>PROJECT operation</strong></h2>\\n<h2><strong>SET operation</strong></h2>\\n<ul>\\n<li>Other operations: UNION, INTERSECTION, SET DIFFERENCE. These are easy.\\nSort the data, run the operation.</li>\\n</ul>\\n<h2><strong>Aggregate operation</strong></h2>\\n<ul>\\n<li>Aggregates: MIN, MAX, COUNT, AVERAGE, SUM. Keep track of these values and\\nupdate the aggregates on insertion and updates.</li>\\n</ul>\\n<h2><strong>GROUP BY</strong></h2>\\n<ul>\\n<li><code>SELECT Dno, AVG(Salary) FROM EMPLOYEE GROUP BY Dno</code><br>\\nApply the aggregate separately to each group of tuples</li>\\n</ul>\\n<h2><strong>Avoid hitting the disk: pipelining</strong></h2>\\n<ul>\\n<li>\\n<p>It is convenient to think of each operation in isolation.</p>\\n<ul>\\n<li>Read input from disk, write results to disk.</li>\\n</ul>\\n</li>\\n<li>\\n<p>However, this is very slow: very disk intensive.</p>\\n</li>\\n<li>\\n<p>Use pipelining: pass results of one operator directly to the next, like\\nunix pipes <code>FIRST QUERY | SECOND QUERY</code></p>\\n</li>\\n</ul>\\n<h2>Example</h2>\\n<p><code>SELECT B,D FROM R,S WHERE R.A = \\\"c\\\" AND S.E = 2 AND R.C = S.C</code></p>\\n<p><strong>How do we execute query?</strong></p>\\n<p><strong>Plan I</strong>: Cartesian product, then selection (may be a large cartesian product)</p>\\n<p><strong>Plan II</strong>: Take first table, do a selection, take second table, do a selection,\\nthen join.</p>\\n<h2><strong>Transformation rules for relational algebra</strong></h2>\\n<ol>\\n<li>\\n<p>Cascade of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\sigma</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.43056em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span></span></span></span>. Conjunction of selections can be broken up:<br>\\n<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>σ</mi><mrow><mi>c</mi><mn>1</mn></mrow></msub><msub><mtext> AND </mtext><mrow><mi>c</mi><mn>2</mn></mrow></msub><mtext> AND </mtext><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><msub><mi mathvariant=\\\"normal\\\">.</mi><mrow><mi>c</mi><mi>n</mi></mrow></msub><mo>(</mo><mi>R</mi><mo>)</mo><mo>=</mo><msub><mi>σ</mi><mrow><mi>c</mi><mn>1</mn></mrow></msub><mo>(</mo><msub><mi>σ</mi><mrow><mi>c</mi><mn>2</mn></mrow></msub><mo>(</mo><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><msub><mi>σ</mi><mrow><mi>c</mi><mi>n</mi></mrow></msub><mo>(</mo><mi>R</mi><mo>)</mo><mo>)</mo><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mo>)</mo><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\sigma_{c1} \\\\text{ AND } _{c2} \\\\text{ AND } ... _{cn} (R) = \\\\sigma_{c1}\\n(\\\\sigma_{c2}(...\\\\sigma_{cn} (R))...))</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord\\\"><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\"> AND </span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\"> AND </span></span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord\\\"><span class=\\\"mord mathrm\\\">.</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.151392em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathit mtight\\\">n</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.151392em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathit mtight\\\">n</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">)</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">)</span></span></span></span></p>\\n</li>\\n<li>\\n<p>The <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\sigma</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.43056em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span></span></span></span> operation is commutative (follows from previous) <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>σ</mi><mrow><mi>c</mi><mn>1</mn></mrow></msub><mo>(</mo><msub><mi>σ</mi><mrow><mi>c</mi><mn>2</mn></mrow></msub><mo>(</mo><mi>R</mi><mo>)</mo><mo>)</mo><mtext> o </mtext><msub><mi>σ</mi><mrow><mi>c</mi><mn>2</mn></mrow></msub><mo>(</mo><msub><mi>σ</mi><mrow><mi>c</mi><mn>1</mn></mrow></msub><mo>(</mo><mi>R</mi><mo>)</mo><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\sigma_{c1}\\n(\\\\sigma_{c2}(R)) \\\\text{ o } \\\\sigma_{c2} (\\\\sigma_{c1}(R))</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">)</span><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\"> o </span></span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">)</span></span></span></span></p>\\n</li>\\n<li>\\n<p>Cascade of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding=\\\"application/x-tex\\\">p</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.625em;vertical-align:-0.19444em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">p</span></span></span></span>. Can ignore all but the final projection:\\n<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mtext>plist</mtext><mn>1</mn></msub><mo>(</mo><msub><mtext>plist</mtext><mn>2</mn></msub><mo>(</mo><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mo>(</mo><msub><mtext>plist</mtext><mi>n</mi></msub><mo>(</mo><mi>R</mi><mo>)</mo><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mo>)</mo><mo>)</mo><mtext> o </mtext><msub><mtext>plist</mtext><mn>1</mn></msub><mo>(</mo><mi>R</mi><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\text{plist}_1(\\\\text{plist}_2(...(\\\\text{plist}_n(R)...)) \\\\text{ o }\\n\\\\text{plist}_1(R)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\">plist</span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.20696799999999996em;\\\"><span style=\\\"top:-2.4558600000000004em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.24414em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\">plist</span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.20696799999999996em;\\\"><span style=\\\"top:-2.4558600000000004em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.24414em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\">plist</span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.057252em;\\\"><span style=\\\"top:-2.4558600000000004em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\">n</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.24414em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">)</span><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\"> o </span></span><span class=\\\"mord\\\"><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\">plist</span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.20696799999999996em;\\\"><span style=\\\"top:-2.4558600000000004em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.24414em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span></span></span></span></p>\\n</li>\\n<li>\\n<p>Commuting <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\sigma</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.43056em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span></span></span></span> with <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding=\\\"application/x-tex\\\">p</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.625em;vertical-align:-0.19444em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">p</span></span></span></span>. If selection only involves attributes in\\nthe projection list, can swap pA1, A2, … , An(sc(R)) o sc(pA1, A2, … , An (R))</p>\\n</li>\\n<li>\\n<p>Commutativity of ⋈ (and  ́): Join (cartesian product) commutes R⋈cS=S⋈c R and R ́S=S ́R</p>\\n</li>\\n<li>\\n<p>Commuting s with ⋈ (or  ́):\\nIf all attributes in selection condition c are in only one relation (say, R) then sc( R⋈S ) o (sc(R))⋈S\\nIfccanbewrittenas(c1 ANDc2)wherec1 isonlyonR,andc2 is only on S, then sc( R ⋈ S ) o (sc1(R)) ⋈ (sc2(S))</p>\\n</li>\\n<li>\\n<p>Commuting p with ⋈ ( ́): Write projection list L={A1…An,B1… Bn} where A’s are attributes of R, B’s are attributes of S.\\nIf join condition c involves only attributes in L, then:\\npL(R ⋈c S) o ( pA1,…An(R)) ⋈c (pB1,…Bn(S))\\nCan also allow join on attributes not in L with an extra projection\\n82\\nCS346 Advanced Databases\\nTransformation rules for relational algebra</p>\\n</li>\\n<li>\\n<p>Commutativity of set operators\\nOperations È and Ç are commutative ( / is not)</p>\\n</li>\\n<li>\\n<p>Associativity of ⋈,  ́, È, Ç\\nThese operations are individually associative:\\n(R q S) q T = R q (S q T) where q is the same op throughout</p>\\n</li>\\n<li>\\n<p>Commuting s with set operations scommuteswithÈ,Çand/:sc (rqS)o(sc(R))q(sc(S))</p>\\n</li>\\n<li>\\n<p>The p operation commutes with È: pL(R È S) o (pL(R)) È (pL(S))</p>\\n</li>\\n<li>\\n<p>Converting a (s,  ́) sequence into a ⋈\\nIf the condition c of selection s following a  ́ corresponds to a join condition, then: (sc(R  ́ S)) o (R ⋈c S)</p>\\n</li>\\n</ol>\\n<h4><strong>Lecture 11</strong> – October 30th, 2017</h4>\\n<h2>Example cost estimates for SELECT</h2>\\n<p>Conjunctive selection: run the most selective query, then check the others.</p>\\n<p>Query optimizer finds possible strategies, estimates cost of each.</p>\\n<p>Usually you pick using an index over sequential scan. But if you’re doing a\\nrange query, even a selective one, on a secondary index, you might end up\\nbeing slower than a linear scan. This would be due to the random IOs that\\nyou end up doing when using the secondary index.</p>\\n<p><strong>Running hints in SQL</strong>: I know that this is a very rare value, so definitely\\nuse the index and don’t estimate the query.</p>\\n<ul>\\n<li>\\n<p>To estimate cost of <code>JOIN</code>, need to know how many tupled result.</p>\\n<ul>\\n<li>Store as a selectivity ratio: size of join to size of cartesian product.</li>\\n</ul>\\n</li>\\n</ul>\",\"excerpt\":\"Lecture 1  – October 5th, 2017 Significant part of the module: the back-end of databases. Other part: recent\\ndevelopment in db tech. In…\",\"frontmatter\":{\"title\":\"CS346 Advanced Databases\",\"date\":\"October 03, 2017\"}}},\"pathContext\":{\"slug\":\"/cs346/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---cs-346-bc9c579f9f170fcbdd5c.js","module.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"author\":\"Bartholomew Joyce\"}},\"markdownRemark\":{\"html\":\"<h4><strong>Lecture 1</strong> – October 5th, 2017</h4>\\n<p>Significant part of the module: the back-end of databases. Other part: recent\\ndevelopment in db tech.</p>\\n<p>In other words: 60% is data structures, 40% is operating systems.</p>\\n<p>For db performance, we care about I/O ops since db’s are usually stored on\\ndisk and not in memory. We optimise algorithms to minimise I/O ops involved.\\nClock cycles, or CPU comparisons are relatively cheap by comparison.</p>\\n<p><strong>CS258 Recap…</strong><br>\\nCS258 was application design: start with a companies needs, construct E/R\\ndiagrams, which later become tables in a relational database.</p>\\n<p>The relational model was invented by Cod at IBM. SQL became the standard for\\nquerying relational models.</p>\\n<p><strong>This modules…</strong><br>\\nThe back-end. How do you provide for the application guys from CS258?</p>\\n<p>Things that we discuss include:</p>\\n<ul>\\n<li>B-trees (n-ary balanced trees)</li>\\n<li>multiple indices: querying multiple attributes simultaneously</li>\\n<li>external hashing: hash points to different blocks on disk</li>\\n<li>order of joins: what do you join first?</li>\\n</ul>\\n<span class=\\\"katex-display\\\"><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>A</mi><mi>B</mi><mi>C</mi><mo>→</mo><mo>(</mo><mi>A</mi><mi>B</mi><mo>)</mo><mi>C</mi><mi mathvariant=\\\"normal\\\">∣</mi><mi>A</mi><mo>(</mo><mi>B</mi><mi>C</mi><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">ABC \\\\rightarrow (AB)C | A(BC)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">A</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">C</span><span class=\\\"mrel\\\">→</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\">A</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mclose\\\">)</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">C</span><span class=\\\"mord mathrm\\\">∣</span><span class=\\\"mord mathit\\\">A</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">C</span><span class=\\\"mclose\\\">)</span></span></span></span></span>\\n<ul>\\n<li>OLAP: Can I change this relational model to make it more fit for analysis?</li>\\n<li>Teradata: data warehousing company.</li>\\n</ul>\\n<h4><strong>Lecture 2</strong> – October 6th, 2017</h4>\\n<h2>Why use RDBMS</h2>\\n<ul>\\n<li>\\n<p><strong>Controlling redundancy</strong><br>\\nRedundancy causes inconsistencies in the data, update costs, and storage\\noverheads. Recent technologies aim to make data consistent, however the\\nupdates must be available eventually.</p>\\n</li>\\n<li>\\n<p><strong>Concurrency Control</strong><br>\\nDBs control concurrency themselves (not relying on the OS) to make sure\\nthe data can be accessed concurrently.</p>\\n</li>\\n<li>\\n<p><strong>Backup and Recovery</strong><br>\\nIn case of errors, roll back to the last consistent state.</p>\\n</li>\\n<li>\\n<p><strong>Views, Access Control</strong><br>\\nDifferent people can see different parts of the database.</p>\\n</li>\\n<li>\\n<p><strong>Standardization (SQL)</strong><br>\\nUse the same language for querying irrespective of the underlying\\ndatabase technology.</p>\\n</li>\\n</ul>\\n<h2>When <em>not</em> to use a RDBMS?</h2>\\n<p>Small dataset, model doesn’t change often, simple application.</p>\\n<h1><strong>Relational databases</strong></h1>\\n<ul>\\n<li>\\n<p>Relational model</p>\\n<ul>\\n<li>Relational Data Structures</li>\\n<li>Integrity Rules</li>\\n</ul>\\n</li>\\n<li>\\n<p>Query languages</p>\\n<ul>\\n<li>Relational Algebra (useful for running queries efficiently)</li>\\n<li>Relational Calculus</li>\\n<li>SQL</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Keys</h2>\\n<ul>\\n<li>\\n<p>A relation is a <strong>set</strong> of tuples. All elements of a set are distinct.</p>\\n</li>\\n<li>\\n<p>Hence <strong>all tuples must be distinct</strong>.</p>\\n</li>\\n<li>\\n<p>There may also be a <strong>subset of the attributes</strong> with the property that\\nvalues <strong>must</strong> be distinct.<br>\\nSuch a set is called a <strong><em>superkey</em></strong>.</p>\\n<ul>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>S</mi><mi>K</mi></mrow><annotation encoding=\\\"application/x-tex\\\">SK</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">K</span></span></span></span> a set of attributes</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding=\\\"application/x-tex\\\">t_1</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.61508em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.76508em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">t</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>t</mi><mn>2</mn></msub></mrow><annotation encoding=\\\"application/x-tex\\\">t_2</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.61508em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.76508em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">t</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> tuples</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub><mo>[</mo><mi>S</mi><mi>K</mi><mo>]</mo><mo>≠</mo><msub><mi>t</mi><mn>2</mn></msub><mo>[</mo><mi>S</mi><mi>K</mi><mo>]</mo></mrow><annotation encoding=\\\"application/x-tex\\\">t_1[SK] \\\\neq t_2[SK]</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">t</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mclose\\\">]</span><span class=\\\"mrel\\\">≠</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">t</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mclose\\\">]</span></span></span></span></li>\\n</ul>\\n</li>\\n<li>\\n<p>A <strong><em>candidate key</em></strong> is a minimal super key.</p>\\n<ul>\\n<li>A set of attributes, <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>C</mi><mi>K</mi></mrow><annotation encoding=\\\"application/x-tex\\\">CK</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">C</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">K</span></span></span></span> is a superkey,</li>\\n<li>but no proper subset is a superkey.</li>\\n</ul>\\n</li>\\n<li>\\n<p>A <strong><em>primary key</em></strong> is one <em>arbitrarily chosen candidate key</em>.</p>\\n</li>\\n</ul>\\n<h2>Integrity Rules</h2>\\n<ul>\\n<li>\\n<p><strong>Domain contrainsts</strong> A data type for each item.</p>\\n</li>\\n<li>\\n<p><strong>Entity integrity:</strong> Every relation has a valid primary key.</p>\\n</li>\\n<li>\\n<p><strong>Referential integrity:</strong> if one column is a foreign key to another table,\\nif a row has a non-null value as the column, it MUST exist in the foreign\\ntable.</p>\\n</li>\\n</ul>\\n<h2>Normalize</h2>\\n<p>(…show tables from slides)</p>\\n<h1><strong>Storage, Files, and Indexing</strong></h1>\\n<h2>Outline</h2>\\n<p><strong>Part 1</strong></p>\\n<ul>\\n<li>\\n<p>Disk properties and file storage</p>\\n</li>\\n<li>\\n<p>File organizations: ordered, unordered, and hashed</p>\\n</li>\\n<li>\\n<p>STorage: RAID and storage are networks</p>\\n</li>\\n<li>\\n<p>Chapter: “Dist Storage, Basic File Structures and Hashing”</p>\\n</li>\\n</ul>\\n<h2>Why?</h2>\\n<p>Locality: similar objects in the same block\\nParallelism: if there are too many objects to fit in one block, spread them\\nover many servers, clustered in the same block within each server.</p>\\n<p>Bottom-up perspective on data management.</p>\\n<h2>Data on Disks</h2>\\n<ul>\\n<li>\\n<p>Databases ultimately rely on non-volatile disk storage</p>\\n<ul>\\n<li>Data typically does not fit in (volatile) memory</li>\\n</ul>\\n</li>\\n<li>\\n<p>Physical properties of disks affect performance of the DBMS</p>\\n<ul>\\n<li>Need to understand some basics of disks</li>\\n</ul>\\n</li>\\n<li>\\n<p>A few exceptions to disk-based databases:</p>\\n<ul>\\n<li>Some real-time applications use “in-memory databases”</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Rotating Disk</h2>\\n<ul>\\n<li>\\n<p>Seeking means waiting for your sector of data to come round to the reading\\narm. Once you get there you want to do sequential I/O, not random I/O.</p>\\n</li>\\n<li>\\n<p>Too tidy sequential I/O: more data comes along and everything has to be\\nshifted forwards.</p>\\n</li>\\n<li>\\n<p>When writing your DB application, you fit your block size to be reasonable.\\nSay, 16MB.</p>\\n</li>\\n<li>\\n<p>Seek time: move read head into position, currently <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mtext> </mtext><mn>4</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding=\\\"application/x-tex\\\">~4ms</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\"><span class=\\\"mspace\\\"> </span><span class=\\\"mord mathrm\\\">4</span></span><span class=\\\"mord mathit\\\">m</span><span class=\\\"mord mathit\\\">s</span></span></span></span></p>\\n<ul>\\n<li>Includes rotational delay: wait for sector to come under read head.</li>\\n<li>Random access: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mi mathvariant=\\\"normal\\\">/</mi><mn>0</mn><mi mathvariant=\\\"normal\\\">.</mi><mn>0</mn><mn>0</mn><mn>4</mn><mo>∗</mo><mn>4</mn><mi>K</mi><mi>B</mi><mo>=</mo><mn>1</mn><mi>M</mi><mi>B</mi><mi mathvariant=\\\"normal\\\">/</mi><mi>s</mi></mrow><annotation encoding=\\\"application/x-tex\\\">1/0.004 * 4KB = 1MB/s</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">4</span><span class=\\\"mbin\\\">∗</span><span class=\\\"mord mathrm\\\">4</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.10903em;\\\">M</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord mathit\\\">s</span></span></span></span>. Quite slow…</li>\\n</ul>\\n</li>\\n<li>\\n<p>Track-to-track move, currently <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mtext> </mtext><mn>0</mn><mi mathvariant=\\\"normal\\\">.</mi><mn>4</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding=\\\"application/x-tex\\\">~0.4ms</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\"><span class=\\\"mspace\\\"> </span><span class=\\\"mord mathrm\\\">0</span></span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">4</span><span class=\\\"mord mathit\\\">m</span><span class=\\\"mord mathit\\\">s</span></span></span></span>: 10 times faster.</p>\\n<ul>\\n<li>Sustained read/write time: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>0</mn><mn>0</mn><mi>M</mi><mi>B</mi><mi mathvariant=\\\"normal\\\">/</mi><mi>s</mi></mrow><annotation encoding=\\\"application/x-tex\\\">100MB/s</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.10903em;\\\">M</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord mathit\\\">s</span></span></span></span> (caching can improve this further)</li>\\n</ul>\\n</li>\\n<li>\\n<p>Buffering can help multithreaded systems.</p>\\n<ul>\\n<li>Work on other processes while waiting for I/O data to arrive.</li>\\n<li>For writing on disk, fill a buffer first. When the buffer is full, then\\nwrite to disk.</li>\\n<li>Double buffering: fill one buffer whilst another is being written to disk.</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Records: the basic unit of the database</h2>\\n<ul>\\n<li>\\n<p>DBs fundamentally composed of records</p>\\n<ul>\\n<li>Each record describes an object with a number of fields</li>\\n</ul>\\n</li>\\n<li>\\n<p>Fields have a type (int, float, string, time, compound…)</p>\\n<ul>\\n<li>Fixed or variable length</li>\\n</ul>\\n</li>\\n<li>\\n<p>Need to know when one field ends and the next begins</p>\\n<ul>\\n<li>Field length codes</li>\\n<li>Field separators (special characters)</li>\\n</ul>\\n</li>\\n<li>\\n<p>Leads to <strong>variable length records</strong></p>\\n<ul>\\n<li>How to effectively search through data with variable length records?</li>\\n</ul>\\n</li>\\n</ul>\\n<h4><strong>Lecture 3</strong> – October 9th, 2017</h4>\\n<h2>Records and Blocks</h2>\\n<ul>\\n<li>Records get stored on disks organized into blocks</li>\\n<li>\\n<p>Small records: pack an integer number into each block</p>\\n<ul>\\n<li>Leaves some space left over in blocks</li>\\n<li>Blocking Factor: (average) number of records per block</li>\\n</ul>\\n</li>\\n<li>\\n<p>Large records: may not be effective to leave slack</p>\\n<ul>\\n<li>Records may span across multiple blocks (spanned organization)</li>\\n<li>May use a pointer at end of block to point to next block</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>File Organization</h2>\\n<ul>\\n<li>\\n<p>File: Sequence of records</p>\\n<ul>\\n<li>Fixed-length vs. variable-length records</li>\\n</ul>\\n</li>\\n<li>\\n<p>Records are stored to disk blocks</p>\\n<ul>\\n<li>Spanned vs. unspanned</li>\\n</ul>\\n</li>\\n<li>\\n<p>Blocks are allocated to disk</p>\\n<ul>\\n<li>Contiguous vs. Linked allocation</li>\\n</ul>\\n</li>\\n<li>\\n<p>File Organization</p>\\n<ul>\\n<li>Unordered</li>\\n<li>Ordered</li>\\n<li>Hashing</li>\\n</ul>\\n</li>\\n</ul>\\n<h3>Unordered Files</h3>\\n<ul>\\n<li>Just dump the records on disk in no particular order</li>\\n<li>Insert is very efficent: just add to last block</li>\\n<li>\\n<p>Scan is very inefficient: need to do a linear search.</p>\\n<ul>\\n<li>Approx. read half the file on average</li>\\n</ul>\\n</li>\\n<li>Delete could be inefficient</li>\\n</ul>\\n<h3>Ordered Files</h3>\\n<ul>\\n<li>Keep records ordered on some (key) value</li>\\n</ul>\\n<h3>Hashing Files</h3>\\n<ul>\\n<li>\\n<p>Use hashing to ensure records with same key are grouped together</p>\\n</li>\\n<li>\\n<p>Arrange file blocks into M equal sized buckets</p>\\n<ul>\\n<li>Often, 1 block = 1 bucket</li>\\n</ul>\\n</li>\\n<li>\\n<p>Usual hash table concerns emerge</p>\\n<ul>\\n<li>How to deal with collisions?</li>\\n<li>Deletions also get messy</li>\\n</ul>\\n</li>\\n<li>\\n<p><strong>External hashing</strong>: don’t store records directly in buckets, store\\npointers to records.</p>\\n<ul>\\n<li>Pointers are small, fit more in a block</li>\\n<li>“All problems in computer science can be solved by another level\\nof indirection” – <em>David Wheeler</em></li>\\n</ul>\\n</li>\\n</ul>\\n<h3>External Hashing for Disk Files</h3>\\n<ul>\\n<li><strong>Bucket</strong>: One disk block or cluster of contiguous blocks (like\\nfixed-size chaining)</li>\\n<li>Hashing maps a key to a bucket number (which is then mapped to a\\nphysical block)</li>\\n</ul>\\n<h3>Dynamic Hashing</h3>\\n<ul>\\n<li>Static hashing: hash address space is fixed.</li>\\n<li>Dynamic hashing: Expand and shrink the hash space.</li>\\n</ul>\\n<h3>Extendible Hashing</h3>\\n<p>For a table of size 2: use most significant bit for hash.</p>\\n<p><strong>TODO</strong>: This is complicated. Write out a full description for this later.</p>\\n<h4><strong>Lecture 4</strong> – October 12th, 2017</h4>\\n<p><strong>Points to Note</strong></p>\\n<ul>\\n<li>\\n<p>Does the order of insertion matter?<br>\\nNot in this case. But in most cases we are inserting multiple rows at a time\\nanyway. This is called <strong>bulk loading</strong>, where you find a way to efficiently\\ninsert reams of data instead of inserting tuples one by one.</p>\\n</li>\\n<li>\\n<p>Bucket split causes directory doubling</p>\\n<ul>\\n<li>If local depth becomes > global depth</li>\\n</ul>\\n</li>\\n</ul>\\n<h3>Linear Hashing: Example</h3>\\n<h1><strong>Indexing</strong></h1>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/44b7054f33d969557fdb599a0be61077-254ad.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 382px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 116.49214659685863%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABYlAAAWJQFJUiTwAAACV0lEQVQ4y5WVC3OqQAyF/f8/sCq1tzwVUVDw/czNtxi6OHac7syZCGzOJjnJOjgcDhJFkVRVJe/W9XqVVbWS2+32654BhHEcS5qmMp/PZTqdOrter4Vv/oqjWCaTieR5LkmSShhGzhckceLeD3yH+/3u4K/dbifH41E2TSPBeCzj0ag7lGixDrk+r1Z9wlcLMlv5LJdplklRFLJcLqUqS2cNfyKkbnNNiejMudGosYbNZvOekFru93vnHIwDCYLA1QzSuq57EbL3LSFOtrI007RnWrvKdQUE/DbU6/qHEDFKrcm/ry9VLJbtdtsRnk4nJ0qs7RV+fztbqBDsp56GXg3P53OnqK82hFbHmUaHKKQPOJSDOvg1hJDTCduK/EyYKVmq/UdkgG/22547wjAMZfgxdErykQamLaqycpE0jz7k/UyVXiwWrShqDT1R0iSRT1WQtoCQaNlgSlICiBCF1BGFLKqHQCZSR0g6Y42AloAw0QOoiauTWsaQwwBjaim2WbRo6uaHkCjYXMwLt5G5hIRUiY4akzK9yEzzvVyWzho45E+jR2S0FPWCjJR9UdavRu/5aqIHmRSiJgOuOi6DNsW6V0OyGby6835bNDOClFoeakvfYn28TdlfkKE0QFEiwhq2fmNTK4AQWNK0aUEQa5+FjhjORPeMo/oO/FsFJ06FlIIbud3cmYqCwtY2+PRE8fuQdGhs0qHACGCECMPiHSozz+whgN5t44/e+eFk63K5dClDyGbuwtFw6P4//NFbPNCLECcfduv0RGFSNLr2/8Tuw1UHnv8DyRjmhJ0BovEAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Index\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/44b7054f33d969557fdb599a0be61077-7f1eb.png\\\"\\n        srcset=\\\"/static/44b7054f33d969557fdb599a0be61077-54db7.png 148w,\\n/static/44b7054f33d969557fdb599a0be61077-fa24e.png 295w,\\n/static/44b7054f33d969557fdb599a0be61077-7f1eb.png 590w,\\n/static/44b7054f33d969557fdb599a0be61077-254ad.png 764w\\\"\\n        sizes=\\\"(max-width: 382px) 100vw, 382px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p><strong>Aims</strong></p>\\n<ul>\\n<li>Generate a smaller file, by having an index of an index.</li>\\n</ul>\\n<h2>Primary Index</h2>\\n<p>Can be <strong>dense</strong> or <strong>sparse</strong>. A sparse index has only a selection of tuples\\nwith which you can find the other tuples.</p>\\n<ul>\\n<li>\\n<p>Single-level Ordered Indexes</p>\\n<ul>\\n<li>Primary Indexes</li>\\n<li>Clustering Indexes</li>\\n<li>Secondary Indexes</li>\\n</ul>\\n</li>\\n<li>\\n<p>Multilevel Indexes</p>\\n</li>\\n<li>\\n<p>Dynamic Multilevel Indexes</p>\\n<ul>\\n<li>B-Trees, B+-Trees</li>\\n</ul>\\n</li>\\n<li>\\n<p>Indexes on Multiple Keys</p>\\n</li>\\n</ul>\\n<p>To allow insertions you need to leave empty space in buckets. However, less\\nentries in each block means you have more IO operations.</p>\\n<p>Another alternative is <strong>overflow</strong>. If a block is full, have a chain to a\\nsecondary block instead of shifting all data along blocks. Overnight you can\\nrun through the data and rebuild an index.</p>\\n<p>Or you can keep an insertion table (in memory). Don’t insert tuples into the\\nindex immediately. Once in a while you can bulk insert the tuples into the\\nindex and rebuild the index.</p>\\n<p>Most the time you don’t want to reorganise the index. If you delete “Bob\\nAlfred”, mark it as deleted instead of removing from the index.</p>\\n<h2>Clustering Index</h2>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/7669b8b02397f8ec6f42a2e85beb0f85-6f53c.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 547px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 102.92504570383912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9ElEQVQ4y42UiXLCMAxE8/9/CNOEAsPRnOTiBtVPsdzQDoXMKLIce70rK4rkzedyuUjbtnI4HDTOskzSNP2zLnoXsCxLmUwmsl6vpSgKKfJCPcB5noe5l4D7/V6ZzedzSZJEkjiR+efPOI5jjeOPWOOXgE3TSNu00vd9sNPppIdgxGcf418Cdl2nng3I3lW7MB7iSrq20zH+AfB2u2ny7/f7AyDx8XhU+VyKjX/H+ABYuZPIE4lfLBbSd73Ok2xkdY7VbjewY2NT12oW1278AHi9XpUJxjjcblEOkl0uuU0OhnXpDsLGMT6yGps6ZjN3c5w4nU4DqAEiCZZsgrFdyjjGR7a4dnKgzAerL1gh06SSeCtuJNbPJDOJHCbxgCFFk90PyQZUC9ivy9IsFLXFeAXkRANQhh7UGCD/fD6rEmqQMWuxkzOL8YHhdrsNDDebjaRfXw/5QS5zgWE2MBzHgSGXYifAAGPOaozHNgHc+BvHNK8+xv/7p4wBOQS2djDf7LvFQfKz5+g3Ib1yTPJs6CqWGusyFgfJTwE9Ox7YsVnL5FXZvAMYmoOvSaoCG8f4t3JIuWgDdUZ34VIAr3y3GRd9xGKaJKVi/zJdxzqOedaVXvK/fwqv5XKptlqtZDabaTemLmGCFMuhlozbyNh+yXoU478BVMBYss+uetkAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Clustering\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/7669b8b02397f8ec6f42a2e85beb0f85-a566e.png\\\"\\n        srcset=\\\"/static/7669b8b02397f8ec6f42a2e85beb0f85-d1e32.png 148w,\\n/static/7669b8b02397f8ec6f42a2e85beb0f85-c5651.png 295w,\\n/static/7669b8b02397f8ec6f42a2e85beb0f85-a566e.png 590w,\\n/static/7669b8b02397f8ec6f42a2e85beb0f85-c38e6.png 885w,\\n/static/7669b8b02397f8ec6f42a2e85beb0f85-6f53c.png 1094w\\\"\\n        sizes=\\\"(max-width: 547px) 100vw, 547px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<ul>\\n<li>Insertion is a challenger in the previous version.</li>\\n<li>Cluster index where each distinct value is allocated a whole disk block</li>\\n<li>Linked list if more than one block is needed</li>\\n<li>Easier to update file with inserts/deletes</li>\\n</ul>\\n<h2>Secondary indexes</h2>\\n<ul>\\n<li>Secondary indexes provide a <strong>secondary</strong> means of access to data</li>\\n</ul>\\n<p>These are dense indexes with references to blocks. Not good for insertions,\\ndeletions. But extremely good for existence queries (0 IO operations to figure\\nout if <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\\\"application/x-tex\\\">x</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.43056em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">x</span></span></span></span> is in your table.)</p>\\n<h2>Indexes on non-key columns</h2>\\n<ul>\\n<li>Keep multiple entries for the same value in the index</li>\\n<li>One entry per value, points to block of pointers that point to all the rows\\nwith that value.</li>\\n</ul>\\n<h2>Two-level index / Multi-level indexing</h2>\\n<p>Bottom-up perspective: we have a big file, we want to search the file. So we\\nneed an index that’s sorted, and we want to navigate that index quickly. So we\\nbuild an index of the index, and we end up with a tree.</p>\\n<h4><strong>Lecture 5</strong> – October 13th, 2017</h4>\\n<p>Missed…</p>\\n<h4><strong>Lecture 6</strong> – October 13th, 2017</h4>\\n<p>Made no notes…</p>\\n<h4><strong>Lecture 7</strong> – October 19th, 2017</h4>\\n<h2>Bulk insertion</h2>\\n<p>Insertion order is important in B+ trees. What if the data to be inserted is\\nsorted? What will the tree look like at the end? When you insert your data in\\norder you end up with a B+ tree that is very empty (minimally empty in fact).</p>\\n<p>This can be resolved by calling a <code>sorted_bulk_insert()</code> function instead\\nof a regular <code>insert()</code> for each tuple.</p>\\n<p>For bulk insertion, when you split, don’t split the bucket in half. Instead\\nonly bring the greatest element to the new bucket and leave the old bucket\\nfull. This is referred to as <strong>bulk loading</strong>.</p>\\n<p>Level: 3<br>\\nMax-capacity: 11  </p>\\n<p>Best case:</p>\\n<ul>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">11</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">1</span></span></span></span> pointers for root</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">11</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">1</span></span></span></span> pointers for nodes in second level</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">10</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span></span></span></span> keys for leaf nodes</li>\\n</ul>\\n<p><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>1</mn><mo>×</mo><mn>1</mn><mn>1</mn><mo>×</mo><mn>1</mn><mn>0</mn><mo>=</mo><mn>1</mn><mn>2</mn><mn>1</mn><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">11\\\\times 11\\\\times 10=1210</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.72777em;vertical-align:-0.08333em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span></span></span></span></p>\\n<p>Worst case:</p>\\n<ul>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding=\\\"application/x-tex\\\">2</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">2</span></span></span></span> pointers for root</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>6</mn></mrow><annotation encoding=\\\"application/x-tex\\\">6</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">6</span></span></span></span> pointers for nodes in second level</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding=\\\"application/x-tex\\\">5</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.64444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">5</span></span></span></span> keys for leaf nodes</li>\\n</ul>\\n<p><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>2</mn><mo>×</mo><mn>6</mn><mo>×</mo><mn>5</mn><mo>=</mo><mn>6</mn><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">2\\\\times 6\\\\times 5=60</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.72777em;vertical-align:-0.08333em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">6</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">5</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">6</span><span class=\\\"mord mathrm\\\">0</span></span></span></span></p>\\n<h2>Data Storage</h2>\\n<p><strong>Tuning</strong> tweaking the performance of a query.</p>\\n<p>Make sure disk speeds are all the same, or be considerate of slower disks.</p>\\n<p>Handle disk addition and disk removal without turning off the </p>\\n<p>Policy constraints</p>\\n<ul>\\n<li>Duplicate the data in countries that are allowed (w.r.t. data privacy).</li>\\n</ul>\\n<p>Replace cross-data centers</p>\\n<ul>\\n<li>Always have three different copies of data in separate locations of data\\ncentre.</li>\\n</ul>\\n<p>The ideal parallelism for a single query is</p>\\n<ul>\\n<li>Minimal number of parallel scanning servers needed to satisfy the client.</li>\\n</ul>\\n<p>Concurrent queries</p>\\n<ul>\\n<li>Maximizing parallelism for all of them can cause disk contention, reducing\\neverybody’s performance.</li>\\n</ul>\\n<p>The goal in data centres is: reach maximal parallelism while minimizing\\nconcurrency issues.</p>\\n<h1><strong>Tuning</strong></h1>\\n<p><strong>Tuning</strong> tweaking the performance of a query.</p>\\n<p>Retrieval queries:</p>\\n<ol>\\n<li>Which files are accessed by the query?</li>\\n<li>Which attributes is selection applied to?</li>\\n<li>Is the selection equality, inequality or range?</li>\\n<li>Which attributes are subjects of join conditions?</li>\\n<li>Which attributes are retrieved by the query?</li>\\n</ol>\\n<p>Update transactions:</p>\\n<ol>\\n<li>The files that will be updated</li>\\n<li>The type of operation on each file (insert, modify, delete)</li>\\n<li>The attributes for selection of a record to delete/modify</li>\\n<li>The attributes whose values will be changed by a modify</li>\\n</ol>\\n<p>Third one is most important.\\nNeed to build an index on attributes from 3, need to avoid index on attributes\\nfrom 4, since they change often.</p>\\n<p>Building an index makes sense in most cases, but you shouldn’t have them for\\nsome attributes. For example, for attributes that are modified often.</p>\\n<p>Attributes with uniqueness (key) constraints should have an index.</p>\\n<p><code>CREATE [ UNIQUE ] INDEX &#x3C;index name> ON &#x3C;table name> (&#x3C;column name> [ &#x3C;order> ] )</code></p>\\n<h4><strong>Lecture 8</strong> – October 23rd, 2017</h4>\\n<h2>External Merge Sort</h2>\\n<ol>\\n<li>\\n<p>For each block that fits in memory:</p>\\n<ol>\\n<li>Read into disk as much as fits in memory.  </li>\\n<li>Sort it in memory.</li>\\n<li>Write it back.</li>\\n</ol>\\n</li>\\n<li>\\n<p>Read portions of each sorted block into memory and merge them.</p>\\n</li>\\n</ol>\\n<p>External merge sort:</p>\\n<ol>\\n<li><strong><code>122225</code></strong><code>-234445-11235</code></li>\\n<li><code>122225-</code><strong><code>234445</code></strong><code>-11235</code></li>\\n<li><code>122225-234445-</code><strong><code>11235</code></strong></li>\\n<li><strong><code>12</code></strong><code>2225-</code><strong><code>23</code></strong><code>4445-</code><strong><code>11</code></strong><code>235</code></li>\\n<li><code>12</code><strong><code>22</code></strong><code>25-23</code><strong><code>44</code></strong><code>45-11</code><strong><code>23</code></strong><code>5</code></li>\\n<li><code>1222</code><strong><code>25</code></strong><code>-2344</code><strong><code>45</code></strong><code>-1123</code><strong><code>5</code></strong></li>\\n</ol>\\n<p><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>3</mn><mo>(</mo><msub><mi>b</mi><mi>r</mi></msub><mo>+</mo><msub><mi>b</mi><mi>s</mi></msub><mo>)</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">3(b_r + b_s) + 1</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">3</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.151392em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.02778em;\\\">r</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">+</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.151392em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\">s</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mclose\\\">)</span><span class=\\\"mbin\\\">+</span><span class=\\\"mord mathrm\\\">1</span></span></span></span></p>\\n<h2>Sort-merge algorithm</h2>\\n<ul>\\n<li>\\n<p>Parameters of the sorting procedure:</p>\\n<ul>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.69444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.69444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">b</span></span></span></span>: number of blocks in the file to be sorted</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>B</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">n_B</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.58056em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span>: available buffer space measured in blocks</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>R</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">n_R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.58056em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span>: number of runs (chunks) of the file produced</li>\\n<li><span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>R</mi></msub><mo>=</mo><mo>⌈</mo><mi>b</mi><mi mathvariant=\\\"normal\\\">/</mi><msub><mi>n</mi><mi>B</mi></msub><mo>⌉</mo></mrow><annotation encoding=\\\"application/x-tex\\\">n_R = \\\\lceil b/n_B \\\\rceil</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mrel\\\">=</span><span class=\\\"mopen\\\">⌈</span><span class=\\\"mord mathit\\\">b</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mclose\\\">⌉</span></span></span></span></li>\\n</ul>\\n</li>\\n<li>\\n<p>Small example: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>b</mi><mo>=</mo><mn>1</mn><mn>0</mn><mn>2</mn><mn>4</mn></mrow><annotation encoding=\\\"application/x-tex\\\">b=1024</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.69444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.69444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mord mathrm\\\">4</span></span></span></span>, <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>B</mi></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding=\\\"application/x-tex\\\">n_B=5</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.64444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.79444em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">5</span></span></span></span>, need 205 runs of 5 blocks</p>\\n</li>\\n<li>\\n<p>After first pass, have <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>R</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">n_R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.58056em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> sorted pieces of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>B</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">n_B</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.58056em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> blocks: merge them\\ntogether.</p>\\n<ul>\\n<li>In-memory mergesort: merge two at a time (two-way merge)</li>\\n<li>External sorting: merge as many as possible</li>\\n<li>Limiting factor: smaller of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">(n_B - 1)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mclose\\\">)</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>n</mi><mi>R</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">n_R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.58056em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span></li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Complicated SELECT operation</h2>\\n<p>Selecting on many indices simultaneously (where the indices are queries\\ntogether with <code>AND</code> or <code>OR</code>).</p>\\n<p>Get the pointers to the different blocks from the secondary indexes of all of\\nthe queries indices, then… intersect the pointers, <em>then</em> access the blocks.</p>\\n<h2>Selectivity estimation</h2>\\n<p>Knowing the size of the result of a query without having to carry out the\\nquery.</p>\\n<h4><strong>Lecture 9</strong> – October 26th, 2017</h4>\\n<h2>Hands-on projects</h2>\\n<ol>\\n<li>\\n<p><strong>Data Warehousing</strong>: SQL, OLAP, from RDBMS to DWs</p>\\n<ul>\\n<li>In a data warehouse we have a purpose (e.g. money or sales).</li>\\n<li>You will take this normalised DB and will make it a fact-based or\\nsubject-based table. You will drop some data. You will have a fact\\ntable with information about sales, which may refer to secondary tables\\nwith products, customers, or suppliers.</li>\\n<li>Instructions given step by step: drop these tables, do this, do that…</li>\\n<li>You can use MySQL, PostgreSQL, Oracle, but the queries are done for MS\\nSQL Server.</li>\\n<li>OLAP: for example, “give me the no. of products sold in the second half\\nof this year in region A that weren’t sold in the first half of this year\\nin region B.”</li>\\n<li>Challenge: data will be missing, e.g. holidays, but they will be queried.</li>\\n</ul>\\n</li>\\n<li>\\n<p><strong>Hadoop MapReduce</strong>: Big Data hacking, text analytics</p>\\n<ul>\\n<li>You will be given a very big data set (and small one for testing). It\\nwill consist of updates to wiki pages.</li>\\n<li>Since it’s big, you can’t use basic C code (or maybe you can).</li>\\n<li>Process this data to answer questions, e.g: “who was the most active user\\non wikipedia”? Were they genuine edits or spam? Give the top <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\\\"application/x-tex\\\">k</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.69444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.69444em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03148em;\\\">k</span></span></span></span>.</li>\\n<li>Or: “what are the articles with the highest number of revisions?”</li>\\n<li>Biggest challenge: install Hadoop. Get it running. There is a step-by-\\nstep instruction paper on how to install it.</li>\\n<li>Note: using Hadoop on your own machine allows you to gauge the\\nperformance better, since you have complete control over your threads\\n(i.e. fewer context switches).</li>\\n</ul>\\n</li>\\n<li>\\n<p><strong>Column oriented data stores</strong>: Column stores for analytics, bitmaps,\\nalgorithms</p>\\n<ul>\\n<li>We care about aggregates (sums, avgs, analysis).</li>\\n<li>Project is about storing columns in efficient way.</li>\\n<li>Given any DB, how can I store data column-wise?</li>\\n<li>Compression: most-famous one, round-length encoding.\\n<code>[6, 6, 6, 6, 6, 6, 6]</code> is turned into <code>6 x 7</code>, though that only works\\nif the column is compressed.</li>\\n<li>It is assumed that the data is compressable. But that may not be the\\ncase.</li>\\n<li>In this project: sort data on one column so that there are sequences\\nof repetitions in the data.</li>\\n<li>I will give you data, you will take the data and compress it, and I\\nwill give you the compression codes.</li>\\n<li>Don’t spend too much time on details, spend time on creative solutions.</li>\\n<li>Complex compression algorithm <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\Rightarrow</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.36687em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.36687em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mrel\\\">⇒</span></span></span></span> slow querying. You must\\ncompress it such that querying is efficient.</li>\\n<li>Problem: multiple columns, need to sort it in multidimensional way.</li>\\n<li>Provided with 5 data sets, one with 2 million tuples.</li>\\n</ul>\\n</li>\\n</ol>\\n<h2>Objectives</h2>\\n<ul>\\n<li>To get hands-on experience in one of the areas.</li>\\n<li>To do something timely, and that you find interesting and stimulating.</li>\\n<li>To let you pick something that reflects your interests.</li>\\n</ul>\\n<h2>Submission Details</h2>\\n<ul>\\n<li>\\n<p>Submission is via Tabula</p>\\n<ul>\\n<li>Upload a PDF of the report</li>\\n<li>Upload a zip of the source code</li>\\n</ul>\\n</li>\\n<li>\\n<p>Due <strong>Monday 4th of December (12 noon)</strong></p>\\n<ul>\\n<li>Usual late scheme applies: loss of 5% of marks per working day late.</li>\\n<li>Do make use of books/articles/websites, but cite them properly.</li>\\n<li>Don’t copy code.</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Report Format</h2>\\n<ul>\\n<li>\\n<p>Report:</p>\\n<ul>\\n<li>Max 5 pages (at most 3500 words) for the main part of the report</li>\\n<li>Appendix: for detailed query outputs if required by the project\\ndescription.</li>\\n</ul>\\n</li>\\n<li>\\n<p>The main part:</p>\\n<ul>\\n<li>At least 10pt font, “sensible margins” (2cm on all sides)</li>\\n<li>Some marks go to presentation.</li>\\n<li>Ability to communicate is vital in whatever you go on to do</li>\\n<li>Use graphs and diagrams where applicable.</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Suggested Outline</h2>\\n<ul>\\n<li>Introduction</li>\\n<li>\\n<p>Description of what you did</p>\\n<ul>\\n<li>Describe the algorithms and implementations</li>\\n<li>Enough detail to allow someone else to repeat the process</li>\\n<li>Include what measures you will measure the methods on</li>\\n</ul>\\n</li>\\n<li>\\n<p>Results</p>\\n<ul>\\n<li>Experimental evaluation</li>\\n<li>“As the data size increases, I have a linear increase in cost, …”</li>\\n<li>For the column compressions project: “as the number of attributes\\nincreases these methods start to perform worse, but as the number of rows\\nincreases these methods become more stable.”</li>\\n</ul>\\n</li>\\n<li>\\n<p>Conclusions/references</p>\\n<ul>\\n<li>Include proper references to work you made use of</li>\\n<li>What more could you have done if you had more time?</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Evaluation Criteria</h2>\\n<ul>\\n<li>Quality of solutions and their evaluations [5%]</li>\\n<li>Quality of presentation [5%]</li>\\n<li>Quality of code, documentation, and instruction [4%]</li>\\n<li>Description of the work done and objectives [2%]</li>\\n<li>Framing material, references [2%]</li>\\n<li>Results and discussion/interpretation [4%]</li>\\n</ul>\\n<p>Report more important than the project. <strong>Keep that in mind</strong>.</p>\\n<h4><strong>Lecture 10</strong> – October 27th, 2017</h4>\\n<h2><strong>Implementing JOIN</strong></h2>\\n<ul>\\n<li>\\n<p><strong>Sort-merge join</strong>:</p>\\n<ul>\\n<li>If <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding=\\\"application/x-tex\\\">R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\\\"application/x-tex\\\">S</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span></span></span></span> are physically sorted (ordered) by value of the join\\nattributes <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\\\"application/x-tex\\\">A</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">A</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding=\\\"application/x-tex\\\">B</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span>, respectively, sort-merge join is very efficient.</li>\\n<li>Both files are scanned in order of the join attributes, matching the\\nrecords that have the same values for <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\\\"application/x-tex\\\">A</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">A</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding=\\\"application/x-tex\\\">B</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span>.</li>\\n</ul>\\n</li>\\n<li>\\n<p><strong>Hash join</strong>:</p>\\n<ul>\\n<li>The records of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding=\\\"application/x-tex\\\">R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\\\"application/x-tex\\\">S</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span></span></span></span> are both hashed with the <em>same hash function</em>\\non the join attributes <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\\\"application/x-tex\\\">A</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">A</span></span></span></span> of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding=\\\"application/x-tex\\\">R</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span></span></span></span> and <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding=\\\"application/x-tex\\\">B</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span> of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\\\"application/x-tex\\\">S</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.68333em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.68333em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.05764em;\\\">S</span></span></span></span> as hash keys.</li>\\n<li>Hash join is very efficient if one of the sets fits into memory.\\nOtherwise, bring as much as you can into memory, hash them, write back.\\nThen read in the hashed data and join them.</li>\\n<li>Cost if files don’t fit into memory: 3 times as many IOs.</li>\\n<li>Assumed: your hash function behaves nicely, splits data in uniform\\nbuckets.</li>\\n</ul>\\n</li>\\n</ul>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/28986567e432af87b92eac6430e9a3b8-c0408.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 580px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 47.06896551724138%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVQoz62RW0+DQBCF+f+/xBffNNHom9U0sfaCirYUyi6U7WKpF6CtlPY4sw2tafTBxEkOYYez35wMFqiG7gCO84TNZsNHvL+9wu7Z1HNw12ojzwvTL8tPSBliPt+e65JCIJ1O8ZHlsFarFdyJhqM0+mqCxWJh1H3uww0jSK0JMDcS9N54dHDr+UjS1PQ0gZrkbTw49P0FFjdbfRfNAYlSzmYzTMl0dHaO08YNHM8zF7Msw4DSGR8pCEMzOIzjXc+P1RbYGwXoBBJdf4R1tYamJMcXlzi5uoZN03lIWZbwxmPjY4koMoMipfY9nWyB94GATdMZmOe5SVhVldlpLfb549j4WJKAnJCBu16S7BN2hUR76CGl3dQ/57A4AftYii6zj5PXe18ul7D4URSFScDpfoPVwA7BOt+Ah2XhDyUJ2BOh0eQ/gCFBbIKxlP4Z+AXAFKgA1BvF/QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"Hash join\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/28986567e432af87b92eac6430e9a3b8-3b812.png\\\"\\n        srcset=\\\"/static/28986567e432af87b92eac6430e9a3b8-73f02.png 148w,\\n/static/28986567e432af87b92eac6430e9a3b8-01593.png 295w,\\n/static/28986567e432af87b92eac6430e9a3b8-3b812.png 590w,\\n/static/28986567e432af87b92eac6430e9a3b8-6ebc5.png 885w,\\n/static/28986567e432af87b92eac6430e9a3b8-c0408.png 1160w\\\"\\n        sizes=\\\"(max-width: 580px) 100vw, 580px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2><strong>JOIN performance</strong></h2>\\n<ul>\\n<li>\\n<p>Nested-loop join can be very expensive</p>\\n</li>\\n<li>\\n<p>Joining EMPLOYEE and DEPARTMENT, with EMPLOYEE for the outer loop:<br>\\nEMPLOYEE read once, DEPARTMENT read <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>E</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">b_E/(n_B-2)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span></span></span></span> times.</p>\\n<ul>\\n<li>Read EMPLOYEE once: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>E</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">b_E</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.69444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.84444em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> blocks</li>\\n<li>Read DEPARTMENT <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mo>⌈</mo><msub><mi>b</mi><mi>E</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo><mo>⌉</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\lceil b_E/(n_B-2)\\\\rceil</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mopen\\\">⌈</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">⌉</span></span></span></span> times: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>D</mi></msub><mo>×</mo><msub><mi>b</mi><mi>E</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">b_D\\\\times b_E/(n_B-2)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.02778em;\\\">D</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">×</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span></span></span></span></li>\\n<li>In our examples: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>2</mn><mn>0</mn><mn>0</mn><mn>0</mn><mo>+</mo><mn>1</mn><mn>0</mn><mo>×</mo><mn>2</mn><mn>0</mn><mn>0</mn><mn>0</mn><mi mathvariant=\\\"normal\\\">/</mi><mn>5</mn><mo>=</mo><mn>6</mn><mn>0</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">2000+10\\\\times 2000/5=6000</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mbin\\\">+</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord mathrm\\\">5</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">6</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span></span></span></span> block reads.</li>\\n</ul>\\n</li>\\n<li>\\n<p>Joining EMPLOYEE and DEPARTMENT, with DEPARTMENT for the outer loop:<br>\\nEMPLOYEE read once, DEPARTMENT read <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>E</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">b_E/(n_B-2)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span></span></span></span> times.</p>\\n<ul>\\n<li>Read DEPARTMENT once: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>D</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">b_D</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.69444em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.84444em;vertical-align:-0.15em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.02778em;\\\">D</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span></span></span></span> blocks</li>\\n<li>Read EMPLOYEE <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mo>⌈</mo><msub><mi>b</mi><mi>D</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo><mo>⌉</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\lceil b_D/(n_B-2)\\\\rceil</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mopen\\\">⌈</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.02778em;\\\">D</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">⌉</span></span></span></span> times: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>b</mi><mi>E</mi></msub><mo>×</mo><msub><mi>b</mi><mi>D</mi></msub><mi mathvariant=\\\"normal\\\">/</mi><mo>(</mo><msub><mi>n</mi><mi>B</mi></msub><mo>−</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">b_E\\\\times b_D/(n_B-2)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05764em;\\\">E</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">×</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">b</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.02778em;\\\">D</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\">n</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.32833099999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\" style=\\\"margin-right:0.05017em;\\\">B</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mbin\\\">−</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mclose\\\">)</span></span></span></span></li>\\n<li>In our examples: <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mn>1</mn><mn>0</mn><mo>+</mo><mn>2</mn><mn>0</mn><mn>0</mn><mn>0</mn><mo>×</mo><mn>1</mn><mn>0</mn><mi mathvariant=\\\"normal\\\">/</mi><mn>5</mn><mo>=</mo><mn>4</mn><mn>0</mn><mn>1</mn><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">10+2000\\\\times 10/5=4010</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mbin\\\">+</span><span class=\\\"mord mathrm\\\">2</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mbin\\\">×</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">/</span><span class=\\\"mord mathrm\\\">5</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord mathrm\\\">4</span><span class=\\\"mord mathrm\\\">0</span><span class=\\\"mord mathrm\\\">1</span><span class=\\\"mord mathrm\\\">0</span></span></span></span> block reads.</li>\\n</ul>\\n</li>\\n</ul>\\n<h2><strong>JOIN selection factor</strong></h2>\\n<h2><strong>Sort-merge JOIN efficiency</strong></h2>\\n<h2><strong>Partition hash JOIN</strong></h2>\\n<h2><strong>PROJECT operation</strong></h2>\\n<h2><strong>SET operation</strong></h2>\\n<ul>\\n<li>Other operations: UNION, INTERSECTION, SET DIFFERENCE. These are easy.\\nSort the data, run the operation.</li>\\n</ul>\\n<h2><strong>Aggregate operation</strong></h2>\\n<ul>\\n<li>Aggregates: MIN, MAX, COUNT, AVERAGE, SUM. Keep track of these values and\\nupdate the aggregates on insertion and updates.</li>\\n</ul>\\n<h2><strong>GROUP BY</strong></h2>\\n<ul>\\n<li><code>SELECT Dno, AVG(Salary) FROM EMPLOYEE GROUP BY Dno</code><br>\\nApply the aggregate separately to each group of tuples</li>\\n</ul>\\n<h2><strong>Avoid hitting the disk: pipelining</strong></h2>\\n<ul>\\n<li>\\n<p>It is convenient to think of each operation in isolation.</p>\\n<ul>\\n<li>Read input from disk, write results to disk.</li>\\n</ul>\\n</li>\\n<li>\\n<p>However, this is very slow: very disk intensive.</p>\\n</li>\\n<li>\\n<p>Use pipelining: pass results of one operator directly to the next, like\\nunix pipes <code>FIRST QUERY | SECOND QUERY</code></p>\\n</li>\\n</ul>\\n<h2>Example</h2>\\n<p><code>SELECT B,D FROM R,S WHERE R.A = \\\"c\\\" AND S.E = 2 AND R.C = S.C</code></p>\\n<p><strong>How do we execute query?</strong></p>\\n<p><strong>Plan I</strong>: Cartesian product, then selection (may be a large cartesian product)</p>\\n<p><strong>Plan II</strong>: Take first table, do a selection, take second table, do a selection,\\nthen join.</p>\\n<h2><strong>Transformation rules for relational algebra</strong></h2>\\n<ol>\\n<li>\\n<p>Cascade of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\sigma</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.43056em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span></span></span></span>. Conjunction of selections can be broken up:<br>\\n<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>σ</mi><mrow><mi>c</mi><mn>1</mn></mrow></msub><msub><mtext> AND </mtext><mrow><mi>c</mi><mn>2</mn></mrow></msub><mtext> AND </mtext><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><msub><mi mathvariant=\\\"normal\\\">.</mi><mrow><mi>c</mi><mi>n</mi></mrow></msub><mo>(</mo><mi>R</mi><mo>)</mo><mo>=</mo><msub><mi>σ</mi><mrow><mi>c</mi><mn>1</mn></mrow></msub><mo>(</mo><msub><mi>σ</mi><mrow><mi>c</mi><mn>2</mn></mrow></msub><mo>(</mo><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><msub><mi>σ</mi><mrow><mi>c</mi><mi>n</mi></mrow></msub><mo>(</mo><mi>R</mi><mo>)</mo><mo>)</mo><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mo>)</mo><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\sigma_{c1} \\\\text{ AND } _{c2} \\\\text{ AND } ... _{cn} (R) = \\\\sigma_{c1}\\n(\\\\sigma_{c2}(...\\\\sigma_{cn} (R))...))</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord\\\"><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\"> AND </span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\"> AND </span></span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord\\\"><span class=\\\"mord mathrm\\\">.</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.151392em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathit mtight\\\">n</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span><span class=\\\"mrel\\\">=</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.151392em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathit mtight\\\">n</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">)</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">)</span></span></span></span></p>\\n</li>\\n<li>\\n<p>The <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\sigma</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.43056em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span></span></span></span> operation is commutative (follows from previous) <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mi>σ</mi><mrow><mi>c</mi><mn>1</mn></mrow></msub><mo>(</mo><msub><mi>σ</mi><mrow><mi>c</mi><mn>2</mn></mrow></msub><mo>(</mo><mi>R</mi><mo>)</mo><mo>)</mo><mtext> o </mtext><msub><mi>σ</mi><mrow><mi>c</mi><mn>2</mn></mrow></msub><mo>(</mo><msub><mi>σ</mi><mrow><mi>c</mi><mn>1</mn></mrow></msub><mo>(</mo><mi>R</mi><mo>)</mo><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\sigma_{c1}\\n(\\\\sigma_{c2}(R)) \\\\text{ o } \\\\sigma_{c2} (\\\\sigma_{c1}(R))</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">)</span><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\"> o </span></span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.30110799999999993em;\\\"><span style=\\\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathit mtight\\\">c</span><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">)</span></span></span></span></p>\\n</li>\\n<li>\\n<p>Cascade of <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding=\\\"application/x-tex\\\">p</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.625em;vertical-align:-0.19444em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">p</span></span></span></span>. Can ignore all but the final projection:\\n<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><msub><mtext>plist</mtext><mn>1</mn></msub><mo>(</mo><msub><mtext>plist</mtext><mn>2</mn></msub><mo>(</mo><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mo>(</mo><msub><mtext>plist</mtext><mi>n</mi></msub><mo>(</mo><mi>R</mi><mo>)</mo><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mi mathvariant=\\\"normal\\\">.</mi><mo>)</mo><mo>)</mo><mtext> o </mtext><msub><mtext>plist</mtext><mn>1</mn></msub><mo>(</mo><mi>R</mi><mo>)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\text{plist}_1(\\\\text{plist}_2(...(\\\\text{plist}_n(R)...)) \\\\text{ o }\\n\\\\text{plist}_1(R)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.75em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord\\\"><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\">plist</span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.20696799999999996em;\\\"><span style=\\\"top:-2.4558600000000004em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.24414em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\">plist</span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.20696799999999996em;\\\"><span style=\\\"top:-2.4558600000000004em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">2</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.24414em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\">plist</span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.057252em;\\\"><span style=\\\"top:-2.4558600000000004em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathit mtight\\\">n</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.24414em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mord mathrm\\\">.</span><span class=\\\"mclose\\\">)</span><span class=\\\"mclose\\\">)</span><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\"> o </span></span><span class=\\\"mord\\\"><span class=\\\"mord text\\\"><span class=\\\"mord mathrm\\\">plist</span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.20696799999999996em;\\\"><span style=\\\"top:-2.4558600000000004em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathrm mtight\\\">1</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.24414em;\\\"></span></span></span></span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.00773em;\\\">R</span><span class=\\\"mclose\\\">)</span></span></span></span></p>\\n</li>\\n<li>\\n<p>Commuting <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\sigma</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.43056em;vertical-align:0em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\" style=\\\"margin-right:0.03588em;\\\">σ</span></span></span></span> with <span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding=\\\"application/x-tex\\\">p</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"strut\\\" style=\\\"height:0.43056em;\\\"></span><span class=\\\"strut bottom\\\" style=\\\"height:0.625em;vertical-align:-0.19444em;\\\"></span><span class=\\\"base\\\"><span class=\\\"mord mathit\\\">p</span></span></span></span>. If selection only involves attributes in\\nthe projection list, can swap pA1, A2, … , An(sc(R)) o sc(pA1, A2, … , An (R))</p>\\n</li>\\n<li>\\n<p>Commutativity of ⋈ (and  ́): Join (cartesian product) commutes R⋈cS=S⋈c R and R ́S=S ́R</p>\\n</li>\\n<li>\\n<p>Commuting s with ⋈ (or  ́):\\nIf all attributes in selection condition c are in only one relation (say, R) then sc( R⋈S ) o (sc(R))⋈S\\nIfccanbewrittenas(c1 ANDc2)wherec1 isonlyonR,andc2 is only on S, then sc( R ⋈ S ) o (sc1(R)) ⋈ (sc2(S))</p>\\n</li>\\n<li>\\n<p>Commuting p with ⋈ ( ́): Write projection list L={A1…An,B1… Bn} where A’s are attributes of R, B’s are attributes of S.\\nIf join condition c involves only attributes in L, then:\\npL(R ⋈c S) o ( pA1,…An(R)) ⋈c (pB1,…Bn(S))\\nCan also allow join on attributes not in L with an extra projection\\n82\\nCS346 Advanced Databases\\nTransformation rules for relational algebra</p>\\n</li>\\n<li>\\n<p>Commutativity of set operators\\nOperations È and Ç are commutative ( / is not)</p>\\n</li>\\n<li>\\n<p>Associativity of ⋈,  ́, È, Ç\\nThese operations are individually associative:\\n(R q S) q T = R q (S q T) where q is the same op throughout</p>\\n</li>\\n<li>\\n<p>Commuting s with set operations scommuteswithÈ,Çand/:sc (rqS)o(sc(R))q(sc(S))</p>\\n</li>\\n<li>\\n<p>The p operation commutes with È: pL(R È S) o (pL(R)) È (pL(S))</p>\\n</li>\\n<li>\\n<p>Converting a (s,  ́) sequence into a ⋈\\nIf the condition c of selection s following a  ́ corresponds to a join condition, then: (sc(R  ́ S)) o (R ⋈c S)</p>\\n</li>\\n</ol>\\n<h4><strong>Lecture 11</strong> – October 30th, 2017</h4>\\n<h2>Example cost estimates for SELECT</h2>\\n<p>Conjunctive selection: run the most selective query, then check the others.</p>\\n<p>Query optimizer finds possible strategies, estimates cost of each.</p>\\n<p>Usually you pick using an index over sequential scan. But if you’re doing a\\nrange query, even a selective one, on a secondary index, you might end up\\nbeing slower than a linear scan. This would be due to the random IOs that\\nyou end up doing when using the secondary index.</p>\\n<p><strong>Running hints in SQL</strong>: I know that this is a very rare value, so definitely\\nuse the index and don’t estimate the query.</p>\\n<ul>\\n<li>\\n<p>To estimate cost of <code>JOIN</code>, need to know how many tupled result.</p>\\n<ul>\\n<li>Store as a selectivity ratio: size of join to size of cartesian product.</li>\\n</ul>\\n</li>\\n</ul>\",\"excerpt\":\"Lecture 1  – October 5th, 2017 Significant part of the module: the back-end of databases. Other part: recent\\ndevelopment in db tech. In…\",\"frontmatter\":{\"title\":\"CS346 Advanced Databases\",\"date\":\"October 03, 2017\"}}},\"pathContext\":{\"slug\":\"/cs346/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/cs-346.json\n// module id = ./node_modules/json-loader/index.js!./.cache/json/cs-346.json\n// module chunks = 257411701174131"],"sourceRoot":""}